fe44d6948b1652d863fd0993c6cb75f8
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useScrollViewOffset = useScrollViewOffset;
var _react = require("react");
var _reactNative = require("react-native");
var _utils = require("./utils");
var _useSharedValue = require("./useSharedValue");
var scrollEventNames = ['onScroll', 'onScrollBeginDrag', 'onScrollEndDrag', 'onMomentumScrollBegin', 'onMomentumScrollEnd'];
function useScrollViewOffset(aref, initialRef) {
  var offsetRef = (0, _react.useRef)(initialRef !== undefined ? initialRef : (0, _useSharedValue.useSharedValue)(0));
  var event = (0, _utils.useEvent)(function (event) {
    'worklet';

    offsetRef.current.value = event.contentOffset.x === 0 ? event.contentOffset.y : event.contentOffset.x;
  }, scrollEventNames);
  (0, _react.useEffect)(function () {
    var _event$current;
    var viewTag = (0, _reactNative.findNodeHandle)(aref.current);
    (_event$current = event.current) === null || _event$current === void 0 ? void 0 : _event$current.registerForEvents(viewTag);
  }, [aref.current]);
  return offsetRef.current;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0TmF0aXZlIiwiX3V0aWxzIiwiX3VzZVNoYXJlZFZhbHVlIiwic2Nyb2xsRXZlbnROYW1lcyIsInVzZVNjcm9sbFZpZXdPZmZzZXQiLCJhcmVmIiwiaW5pdGlhbFJlZiIsIm9mZnNldFJlZiIsInVzZVJlZiIsInVuZGVmaW5lZCIsInVzZVNoYXJlZFZhbHVlIiwiZXZlbnQiLCJ1c2VFdmVudCIsImN1cnJlbnQiLCJ2YWx1ZSIsImNvbnRlbnRPZmZzZXQiLCJ4IiwieSIsInVzZUVmZmVjdCIsIl9ldmVudCRjdXJyZW50Iiwidmlld1RhZyIsImZpbmROb2RlSGFuZGxlIiwicmVnaXN0ZXJGb3JFdmVudHMiXSwic291cmNlcyI6WyJ1c2VTY3JvbGxWaWV3T2Zmc2V0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUmVmT2JqZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB0eXBlIEFuaW1hdGVkIGZyb20gJy4uLy4uL2luZGV4JzsgLy8gVE9ETzogZml4bWU/XG5pbXBvcnQgdHlwZSB7IFNjcm9sbEV2ZW50IH0gZnJvbSAnLi91c2VBbmltYXRlZFNjcm9sbEhhbmRsZXInO1xuaW1wb3J0IHR5cGUgeyBTaGFyZWRWYWx1ZSB9IGZyb20gJy4uL2NvbW1vblR5cGVzJztcbmltcG9ydCB7IGZpbmROb2RlSGFuZGxlIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IHVzZUV2ZW50IH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyB1c2VTaGFyZWRWYWx1ZSB9IGZyb20gJy4vdXNlU2hhcmVkVmFsdWUnO1xuXG5jb25zdCBzY3JvbGxFdmVudE5hbWVzID0gW1xuICAnb25TY3JvbGwnLFxuICAnb25TY3JvbGxCZWdpbkRyYWcnLFxuICAnb25TY3JvbGxFbmREcmFnJyxcbiAgJ29uTW9tZW50dW1TY3JvbGxCZWdpbicsXG4gICdvbk1vbWVudHVtU2Nyb2xsRW5kJyxcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTY3JvbGxWaWV3T2Zmc2V0KFxuICBhcmVmOiBSZWZPYmplY3Q8QW5pbWF0ZWQuU2Nyb2xsVmlldz4sXG4gIGluaXRpYWxSZWY/OiBTaGFyZWRWYWx1ZTxudW1iZXI+XG4pOiBTaGFyZWRWYWx1ZTxudW1iZXI+IHtcbiAgY29uc3Qgb2Zmc2V0UmVmID0gdXNlUmVmKFxuICAgIGluaXRpYWxSZWYgIT09IHVuZGVmaW5lZCA/IGluaXRpYWxSZWYgOiB1c2VTaGFyZWRWYWx1ZSgwKVxuICApO1xuXG4gIGNvbnN0IGV2ZW50ID0gdXNlRXZlbnQ8U2Nyb2xsRXZlbnQ+KChldmVudDogU2Nyb2xsRXZlbnQpID0+IHtcbiAgICAnd29ya2xldCc7XG4gICAgb2Zmc2V0UmVmLmN1cnJlbnQudmFsdWUgPVxuICAgICAgZXZlbnQuY29udGVudE9mZnNldC54ID09PSAwXG4gICAgICAgID8gZXZlbnQuY29udGVudE9mZnNldC55XG4gICAgICAgIDogZXZlbnQuY29udGVudE9mZnNldC54O1xuICB9LCBzY3JvbGxFdmVudE5hbWVzKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHZpZXdUYWcgPSBmaW5kTm9kZUhhbmRsZShhcmVmLmN1cnJlbnQpO1xuICAgIC8vIEB0cy1pZ25vcmUgVE9ETyBUWVBFU0NSSVBUIFRoaXMgaGFwcGVucyBiZWNhdXNlIG9mXG4gICAgLy8gaG93IHdlIGhhZCB0byB0eXBlIGB1c2VFdmVudGAgdG8gZ2V0IHJpZCBvZiAuZC50cyBmaWxlLlxuICAgIGV2ZW50LmN1cnJlbnQ/LnJlZ2lzdGVyRm9yRXZlbnRzKHZpZXdUYWcgYXMgbnVtYmVyKTtcbiAgfSwgW2FyZWYuY3VycmVudF0pO1xuXG4gIHJldHVybiBvZmZzZXRSZWYuY3VycmVudDtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUNBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUtBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLGVBQUEsR0FBQUgsT0FBQTtBQUVBLElBQU1JLGdCQUFnQixHQUFHLENBQ3ZCLFVBQVUsRUFDVixtQkFBbUIsRUFDbkIsaUJBQWlCLEVBQ2pCLHVCQUF1QixFQUN2QixxQkFBcUIsQ0FDdEI7QUFFTSxTQUFTQyxtQkFBbUJBLENBQ2pDQyxJQUFvQyxFQUNwQ0MsVUFBZ0MsRUFDWDtFQUNyQixJQUFNQyxTQUFTLEdBQUcsSUFBQUMsYUFBTSxFQUN0QkYsVUFBVSxLQUFLRyxTQUFTLEdBQUdILFVBQVUsR0FBRyxJQUFBSSw4QkFBYyxFQUFDLENBQUMsQ0FBQyxDQUMxRDtFQUVELElBQU1DLEtBQUssR0FBRyxJQUFBQyxlQUFRLEVBQWUsVUFBQUQsS0FBa0IsRUFBSztJQUMxRCxTQUFTOztJQUNUSixTQUFTLENBQUNNLE9BQU8sQ0FBQ0MsS0FBSyxHQUNyQkgsS0FBSyxDQUFDSSxhQUFhLENBQUNDLENBQUMsS0FBSyxDQUFDLEdBQ3ZCTCxLQUFLLENBQUNJLGFBQWEsQ0FBQ0UsQ0FBQyxHQUNyQk4sS0FBSyxDQUFDSSxhQUFhLENBQUNDLENBQUM7RUFDN0IsQ0FBQyxFQUFFYixnQkFBZ0IsQ0FBQztFQUVwQixJQUFBZSxnQkFBUyxFQUFDLFlBQU07SUFBQSxJQUFBQyxjQUFBO0lBQ2QsSUFBTUMsT0FBTyxHQUFHLElBQUFDLDJCQUFjLEVBQUNoQixJQUFJLENBQUNRLE9BQU8sQ0FBQztJQUc1QyxDQUFBTSxjQUFBLEdBQUFSLEtBQUssQ0FBQ0UsT0FBTyxjQUFBTSxjQUFBLHVCQUFiQSxjQUFBLENBQWVHLGlCQUFpQixDQUFDRixPQUFPLENBQVc7RUFDckQsQ0FBQyxFQUFFLENBQUNmLElBQUksQ0FBQ1EsT0FBTyxDQUFDLENBQUM7RUFFbEIsT0FBT04sU0FBUyxDQUFDTSxPQUFPO0FBQzFCIn0=