{"version":3,"names":["_threads","require","viewTags","removeFromPropsRegistry","viewTag","push","length","queueMicrotask","flush","__DEV__","global","_IS_FABRIC","Error","runOnUI","removeFromPropsRegistryOnUI","_removeFromPropsRegistry"],"sources":["PropsRegistry.ts"],"sourcesContent":["import { runOnUI } from './threads';\n\nlet viewTags: number[] = [];\n\nexport function removeFromPropsRegistry(viewTag: number) {\n  viewTags.push(viewTag);\n  if (viewTags.length === 1) {\n    queueMicrotask(flush);\n  }\n}\n\nfunction flush() {\n  if (__DEV__ && !global._IS_FABRIC) {\n    throw new Error('PropsRegistry is only available on Fabric');\n  }\n  runOnUI(removeFromPropsRegistryOnUI)(viewTags);\n  viewTags = [];\n}\n\nfunction removeFromPropsRegistryOnUI(viewTags: number[]) {\n  'worklet';\n  _removeFromPropsRegistry(viewTags);\n}\n"],"mappings":";;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AAEA,IAAIC,QAAkB,GAAG,EAAE;AAEpB,SAASC,uBAAuBA,CAACC,OAAe,EAAE;EACvDF,QAAQ,CAACG,IAAI,CAACD,OAAO,CAAC;EACtB,IAAIF,QAAQ,CAACI,MAAM,KAAK,CAAC,EAAE;IACzBC,cAAc,CAACC,KAAK,CAAC;EACvB;AACF;AAEA,SAASA,KAAKA,CAAA,EAAG;EACf,IAAIC,OAAO,IAAI,CAACC,MAAM,CAACC,UAAU,EAAE;IACjC,MAAM,IAAIC,KAAK,CAAC,2CAA2C,CAAC;EAC9D;EACA,IAAAC,gBAAO,EAACC,2BAA2B,CAAC,CAACZ,QAAQ,CAAC;EAC9CA,QAAQ,GAAG,EAAE;AACf;AAEA,SAASY,2BAA2BA,CAACZ,QAAkB,EAAE;EACvD,SAAS;;EACTa,wBAAwB,CAACb,QAAQ,CAAC;AACpC"}