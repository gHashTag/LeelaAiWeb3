124c0b58c9b94433106daccd86bf9abe
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.withDecay = void 0;
var _util = require("./util");
var _PlatformChecker = require("../PlatformChecker");
var IS_WEB = (0, _PlatformChecker.isWeb)();
var withDecay = function withDecay(userConfig, callback) {
  'worklet';

  return (0, _util.defineAnimation)(0, function () {
    'worklet';

    var _config$velocity;
    var config = {
      deceleration: 0.998,
      velocityFactor: 1,
      velocity: 0,
      rubberBandFactor: 0.6
    };
    if (userConfig) {
      Object.keys(userConfig).forEach(function (key) {
        return config[key] = userConfig[key];
      });
    }
    var VELOCITY_EPS = IS_WEB ? 1 / 20 : 1;
    var SLOPE_FACTOR = 0.1;
    var decay;
    if (config.rubberBandEffect) {
      decay = function decay(animation, now) {
        var lastTimestamp = animation.lastTimestamp,
          startTimestamp = animation.startTimestamp,
          current = animation.current,
          velocity = animation.velocity;
        var deltaTime = Math.min(now - lastTimestamp, 64);
        var clampIndex = Math.abs(current - config.clamp[0]) < Math.abs(current - config.clamp[1]) ? 0 : 1;
        var derivative = 0;
        if (current < config.clamp[0] || current > config.clamp[1]) {
          derivative = current - config.clamp[clampIndex];
        }
        if (derivative !== 0) {
          animation.springActive = true;
        } else if (derivative === 0 && animation.springActive) {
          animation.current = config.clamp[clampIndex];
          return true;
        }
        var v = velocity * Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR) - derivative * config.rubberBandFactor;
        animation.current = current + v * config.velocityFactor * deltaTime / 1000;
        animation.velocity = v;
        animation.lastTimestamp = now;
        return false;
      };
    } else {
      decay = function decay(animation, now) {
        var lastTimestamp = animation.lastTimestamp,
          startTimestamp = animation.startTimestamp,
          initialVelocity = animation.initialVelocity,
          current = animation.current,
          velocity = animation.velocity;
        var deltaTime = Math.min(now - lastTimestamp, 64);
        var v = velocity * Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR);
        animation.current = current + v * config.velocityFactor * deltaTime / 1000;
        animation.velocity = v;
        animation.lastTimestamp = now;
        if (config.clamp) {
          if (initialVelocity < 0 && animation.current <= config.clamp[0]) {
            animation.current = config.clamp[0];
            return true;
          } else if (initialVelocity > 0 && animation.current >= config.clamp[1]) {
            animation.current = config.clamp[1];
            return true;
          }
        }
        return Math.abs(v) < VELOCITY_EPS;
      };
    }
    function validateConfig() {
      if (config.clamp) {
        if (!Array.isArray(config.clamp)) {
          throw Error(`config.clamp must be an array but is ${typeof config.clamp}`);
        }
        if (config.clamp.length !== 2) {
          throw Error(`clamp array must contain 2 items but is given ${config.clamp.length}`);
        }
      }
      if (config.velocityFactor <= 0) {
        throw Error(`config.velocityFactor must be greather then 0 but is ${config.velocityFactor}`);
      }
      if (config.rubberBandEffect && !config.clamp) {
        throw Error('You need to set `clamp` property when using `rubberBandEffect`.');
      }
    }
    function onStart(animation, value, now) {
      animation.current = value;
      animation.lastTimestamp = now;
      animation.startTimestamp = now;
      animation.initialVelocity = config.velocity;
      validateConfig();
    }
    return {
      onFrame: decay,
      onStart: onStart,
      callback: callback,
      velocity: (_config$velocity = config.velocity) != null ? _config$velocity : 0,
      initialVelocity: 0,
      current: 0,
      lastTimestamp: 0,
      startTimestamp: 0
    };
  });
};
exports.withDecay = withDecay;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXRpbCIsInJlcXVpcmUiLCJfUGxhdGZvcm1DaGVja2VyIiwiSVNfV0VCIiwiaXNXZWIiLCJ3aXRoRGVjYXkiLCJ1c2VyQ29uZmlnIiwiY2FsbGJhY2siLCJkZWZpbmVBbmltYXRpb24iLCJfY29uZmlnJHZlbG9jaXR5IiwiY29uZmlnIiwiZGVjZWxlcmF0aW9uIiwidmVsb2NpdHlGYWN0b3IiLCJ2ZWxvY2l0eSIsInJ1YmJlckJhbmRGYWN0b3IiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsIlZFTE9DSVRZX0VQUyIsIlNMT1BFX0ZBQ1RPUiIsImRlY2F5IiwicnViYmVyQmFuZEVmZmVjdCIsImFuaW1hdGlvbiIsIm5vdyIsImxhc3RUaW1lc3RhbXAiLCJzdGFydFRpbWVzdGFtcCIsImN1cnJlbnQiLCJkZWx0YVRpbWUiLCJNYXRoIiwibWluIiwiY2xhbXBJbmRleCIsImFicyIsImNsYW1wIiwiZGVyaXZhdGl2ZSIsInNwcmluZ0FjdGl2ZSIsInYiLCJleHAiLCJpbml0aWFsVmVsb2NpdHkiLCJ2YWxpZGF0ZUNvbmZpZyIsIkFycmF5IiwiaXNBcnJheSIsIkVycm9yIiwibGVuZ3RoIiwib25TdGFydCIsInZhbHVlIiwib25GcmFtZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJkZWNheS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZpbmVBbmltYXRpb24gfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHR5cGUge1xuICBBbmltYXRpb24sXG4gIEFuaW1hdGlvbkNhbGxiYWNrLFxuICBBbmltYXRpb25PYmplY3QsXG4gIEFuaW1hdGFibGVWYWx1ZSxcbiAgVGltZXN0YW1wLFxufSBmcm9tICcuLi9jb21tb25UeXBlcyc7XG5pbXBvcnQgeyBpc1dlYiB9IGZyb20gJy4uL1BsYXRmb3JtQ2hlY2tlcic7XG5cbmludGVyZmFjZSBEZWNheUNvbmZpZyB7XG4gIGRlY2VsZXJhdGlvbj86IG51bWJlcjtcbiAgdmVsb2NpdHlGYWN0b3I/OiBudW1iZXI7XG4gIGNsYW1wPzogbnVtYmVyW107XG4gIHZlbG9jaXR5PzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgRGVmYXVsdERlY2F5Q29uZmlnIHtcbiAgZGVjZWxlcmF0aW9uOiBudW1iZXI7XG4gIHZlbG9jaXR5RmFjdG9yOiBudW1iZXI7XG4gIGNsYW1wPzogbnVtYmVyW107XG4gIHZlbG9jaXR5OiBudW1iZXI7XG4gIHJ1YmJlckJhbmRFZmZlY3Q/OiBib29sZWFuO1xuICBydWJiZXJCYW5kRmFjdG9yOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVjYXlBbmltYXRpb24gZXh0ZW5kcyBBbmltYXRpb248RGVjYXlBbmltYXRpb24+IHtcbiAgbGFzdFRpbWVzdGFtcDogVGltZXN0YW1wO1xuICBzdGFydFRpbWVzdGFtcDogVGltZXN0YW1wO1xuICBpbml0aWFsVmVsb2NpdHk6IG51bWJlcjtcbiAgdmVsb2NpdHk6IG51bWJlcjtcbiAgY3VycmVudDogQW5pbWF0YWJsZVZhbHVlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElubmVyRGVjYXlBbmltYXRpb25cbiAgZXh0ZW5kcyBPbWl0PERlY2F5QW5pbWF0aW9uLCAnY3VycmVudCc+LFxuICAgIEFuaW1hdGlvbk9iamVjdCB7XG4gIGN1cnJlbnQ6IG51bWJlcjtcbn1cblxuY29uc3QgSVNfV0VCID0gaXNXZWIoKTtcblxuLy8gVE9ETyBUWVBFU0NSSVBUIFRoaXMgaXMgYSB0ZW1wb3JhcnkgdHlwZSB0byBnZXQgcmlkIG9mIC5kLnRzIGZpbGUuXG50eXBlIHdpdGhEZWNheVR5cGUgPSAoXG4gIHVzZXJDb25maWc6IERlY2F5Q29uZmlnLFxuICBjYWxsYmFjaz86IEFuaW1hdGlvbkNhbGxiYWNrXG4pID0+IG51bWJlcjtcblxuZXhwb3J0IGNvbnN0IHdpdGhEZWNheSA9IGZ1bmN0aW9uIChcbiAgdXNlckNvbmZpZzogRGVjYXlDb25maWcsXG4gIGNhbGxiYWNrPzogQW5pbWF0aW9uQ2FsbGJhY2tcbik6IEFuaW1hdGlvbjxEZWNheUFuaW1hdGlvbj4ge1xuICAnd29ya2xldCc7XG5cbiAgcmV0dXJuIGRlZmluZUFuaW1hdGlvbjxEZWNheUFuaW1hdGlvbj4oMCwgKCkgPT4ge1xuICAgICd3b3JrbGV0JztcbiAgICBjb25zdCBjb25maWc6IERlZmF1bHREZWNheUNvbmZpZyA9IHtcbiAgICAgIGRlY2VsZXJhdGlvbjogMC45OTgsXG4gICAgICB2ZWxvY2l0eUZhY3RvcjogMSxcbiAgICAgIHZlbG9jaXR5OiAwLFxuICAgICAgcnViYmVyQmFuZEZhY3RvcjogMC42LFxuICAgIH07XG4gICAgaWYgKHVzZXJDb25maWcpIHtcbiAgICAgIE9iamVjdC5rZXlzKHVzZXJDb25maWcpLmZvckVhY2goXG4gICAgICAgIChrZXkpID0+XG4gICAgICAgICAgKChjb25maWcgYXMgYW55KVtrZXldID0gdXNlckNvbmZpZ1trZXkgYXMga2V5b2YgdHlwZW9mIHVzZXJDb25maWddKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBWRUxPQ0lUWV9FUFMgPSBJU19XRUIgPyAxIC8gMjAgOiAxO1xuICAgIGNvbnN0IFNMT1BFX0ZBQ1RPUiA9IDAuMTtcblxuICAgIGxldCBkZWNheTogKGFuaW1hdGlvbjogSW5uZXJEZWNheUFuaW1hdGlvbiwgbm93OiBudW1iZXIpID0+IGJvb2xlYW47XG5cbiAgICBpZiAoY29uZmlnLnJ1YmJlckJhbmRFZmZlY3QpIHtcbiAgICAgIGRlY2F5ID0gKGFuaW1hdGlvbjogSW5uZXJEZWNheUFuaW1hdGlvbiwgbm93OiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICAgICAgY29uc3QgeyBsYXN0VGltZXN0YW1wLCBzdGFydFRpbWVzdGFtcCwgY3VycmVudCwgdmVsb2NpdHkgfSA9IGFuaW1hdGlvbjtcblxuICAgICAgICBjb25zdCBkZWx0YVRpbWUgPSBNYXRoLm1pbihub3cgLSBsYXN0VGltZXN0YW1wLCA2NCk7XG4gICAgICAgIGNvbnN0IGNsYW1wSW5kZXggPVxuICAgICAgICAgIE1hdGguYWJzKGN1cnJlbnQgLSBjb25maWcuY2xhbXAhWzBdKSA8XG4gICAgICAgICAgTWF0aC5hYnMoY3VycmVudCAtIGNvbmZpZy5jbGFtcCFbMV0pXG4gICAgICAgICAgICA/IDBcbiAgICAgICAgICAgIDogMTtcblxuICAgICAgICBsZXQgZGVyaXZhdGl2ZSA9IDA7XG4gICAgICAgIGlmIChjdXJyZW50IDwgY29uZmlnLmNsYW1wIVswXSB8fCBjdXJyZW50ID4gY29uZmlnLmNsYW1wIVsxXSkge1xuICAgICAgICAgIGRlcml2YXRpdmUgPSBjdXJyZW50IC0gY29uZmlnLmNsYW1wIVtjbGFtcEluZGV4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXJpdmF0aXZlICE9PSAwKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLnNwcmluZ0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVyaXZhdGl2ZSA9PT0gMCAmJiBhbmltYXRpb24uc3ByaW5nQWN0aXZlKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLmN1cnJlbnQgPSBjb25maWcuY2xhbXAhW2NsYW1wSW5kZXhdO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdiA9XG4gICAgICAgICAgdmVsb2NpdHkgKlxuICAgICAgICAgICAgTWF0aC5leHAoXG4gICAgICAgICAgICAgIC0oMSAtIGNvbmZpZy5kZWNlbGVyYXRpb24pICogKG5vdyAtIHN0YXJ0VGltZXN0YW1wKSAqIFNMT1BFX0ZBQ1RPUlxuICAgICAgICAgICAgKSAtXG4gICAgICAgICAgZGVyaXZhdGl2ZSAqIGNvbmZpZy5ydWJiZXJCYW5kRmFjdG9yO1xuXG4gICAgICAgIGFuaW1hdGlvbi5jdXJyZW50ID1cbiAgICAgICAgICBjdXJyZW50ICsgKHYgKiBjb25maWcudmVsb2NpdHlGYWN0b3IgKiBkZWx0YVRpbWUpIC8gMTAwMDtcbiAgICAgICAgYW5pbWF0aW9uLnZlbG9jaXR5ID0gdjtcbiAgICAgICAgYW5pbWF0aW9uLmxhc3RUaW1lc3RhbXAgPSBub3c7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlY2F5ID0gKGFuaW1hdGlvbjogSW5uZXJEZWNheUFuaW1hdGlvbiwgbm93OiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGxhc3RUaW1lc3RhbXAsXG4gICAgICAgICAgc3RhcnRUaW1lc3RhbXAsXG4gICAgICAgICAgaW5pdGlhbFZlbG9jaXR5LFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgdmVsb2NpdHksXG4gICAgICAgIH0gPSBhbmltYXRpb247XG5cbiAgICAgICAgY29uc3QgZGVsdGFUaW1lID0gTWF0aC5taW4obm93IC0gbGFzdFRpbWVzdGFtcCwgNjQpO1xuICAgICAgICBjb25zdCB2ID1cbiAgICAgICAgICB2ZWxvY2l0eSAqXG4gICAgICAgICAgTWF0aC5leHAoXG4gICAgICAgICAgICAtKDEgLSBjb25maWcuZGVjZWxlcmF0aW9uKSAqIChub3cgLSBzdGFydFRpbWVzdGFtcCkgKiBTTE9QRV9GQUNUT1JcbiAgICAgICAgICApO1xuICAgICAgICBhbmltYXRpb24uY3VycmVudCA9XG4gICAgICAgICAgY3VycmVudCArICh2ICogY29uZmlnLnZlbG9jaXR5RmFjdG9yICogZGVsdGFUaW1lKSAvIDEwMDA7XG4gICAgICAgIGFuaW1hdGlvbi52ZWxvY2l0eSA9IHY7XG4gICAgICAgIGFuaW1hdGlvbi5sYXN0VGltZXN0YW1wID0gbm93O1xuXG4gICAgICAgIGlmIChjb25maWcuY2xhbXApIHtcbiAgICAgICAgICBpZiAoaW5pdGlhbFZlbG9jaXR5IDwgMCAmJiBhbmltYXRpb24uY3VycmVudCA8PSBjb25maWcuY2xhbXBbMF0pIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5jdXJyZW50ID0gY29uZmlnLmNsYW1wWzBdO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGluaXRpYWxWZWxvY2l0eSA+IDAgJiZcbiAgICAgICAgICAgIGFuaW1hdGlvbi5jdXJyZW50ID49IGNvbmZpZy5jbGFtcFsxXVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgYW5pbWF0aW9uLmN1cnJlbnQgPSBjb25maWcuY2xhbXBbMV07XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTWF0aC5hYnModikgPCBWRUxPQ0lUWV9FUFM7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ29uZmlnKCk6IHZvaWQge1xuICAgICAgaWYgKGNvbmZpZy5jbGFtcCkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29uZmlnLmNsYW1wKSkge1xuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgYGNvbmZpZy5jbGFtcCBtdXN0IGJlIGFuIGFycmF5IGJ1dCBpcyAke3R5cGVvZiBjb25maWcuY2xhbXB9YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5jbGFtcC5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIGBjbGFtcCBhcnJheSBtdXN0IGNvbnRhaW4gMiBpdGVtcyBidXQgaXMgZ2l2ZW4gJHtjb25maWcuY2xhbXAubGVuZ3RofWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLnZlbG9jaXR5RmFjdG9yIDw9IDApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgYGNvbmZpZy52ZWxvY2l0eUZhY3RvciBtdXN0IGJlIGdyZWF0aGVyIHRoZW4gMCBidXQgaXMgJHtjb25maWcudmVsb2NpdHlGYWN0b3J9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGNvbmZpZy5ydWJiZXJCYW5kRWZmZWN0ICYmICFjb25maWcuY2xhbXApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgJ1lvdSBuZWVkIHRvIHNldCBgY2xhbXBgIHByb3BlcnR5IHdoZW4gdXNpbmcgYHJ1YmJlckJhbmRFZmZlY3RgLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN0YXJ0KFxuICAgICAgYW5pbWF0aW9uOiBEZWNheUFuaW1hdGlvbixcbiAgICAgIHZhbHVlOiBudW1iZXIsXG4gICAgICBub3c6IFRpbWVzdGFtcFxuICAgICk6IHZvaWQge1xuICAgICAgYW5pbWF0aW9uLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICAgIGFuaW1hdGlvbi5sYXN0VGltZXN0YW1wID0gbm93O1xuICAgICAgYW5pbWF0aW9uLnN0YXJ0VGltZXN0YW1wID0gbm93O1xuICAgICAgYW5pbWF0aW9uLmluaXRpYWxWZWxvY2l0eSA9IGNvbmZpZy52ZWxvY2l0eTtcbiAgICAgIHZhbGlkYXRlQ29uZmlnKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG9uRnJhbWU6IGRlY2F5LFxuICAgICAgb25TdGFydCxcbiAgICAgIGNhbGxiYWNrLFxuICAgICAgdmVsb2NpdHk6IGNvbmZpZy52ZWxvY2l0eSA/PyAwLFxuICAgICAgaW5pdGlhbFZlbG9jaXR5OiAwLFxuICAgICAgY3VycmVudDogMCxcbiAgICAgIGxhc3RUaW1lc3RhbXA6IDAsXG4gICAgICBzdGFydFRpbWVzdGFtcDogMCxcbiAgICB9IGFzIERlY2F5QW5pbWF0aW9uO1xuICB9KTtcbn0gYXMgdW5rbm93biBhcyB3aXRoRGVjYXlUeXBlO1xuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxPQUFBO0FBUUEsSUFBQUMsZ0JBQUEsR0FBQUQsT0FBQTtBQWdDQSxJQUFNRSxNQUFNLEdBQUcsSUFBQUMsc0JBQUssR0FBRTtBQVFmLElBQU1DLFNBQVMsR0FBRyxTQUFaQSxTQUFTQSxDQUNwQkMsVUFBdUIsRUFDdkJDLFFBQTRCLEVBQ0Q7RUFD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