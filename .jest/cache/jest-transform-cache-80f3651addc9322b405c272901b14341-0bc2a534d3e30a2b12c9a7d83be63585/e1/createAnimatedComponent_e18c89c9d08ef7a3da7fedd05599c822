bf91d56680ba0f0e7da09294dc3984c1
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = createAnimatedComponent;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("react-native");
var _WorkletEventHandler = _interopRequireDefault(require("./reanimated2/WorkletEventHandler"));
var _setAndForwardRef = _interopRequireDefault(require("./setAndForwardRef"));
require("./reanimated2/layoutReanimation/animationsManager");
var _invariant = _interopRequireDefault(require("invariant"));
var _ConfigHelper = require("./ConfigHelper");
var _RNRenderer = require("./reanimated2/platform-specific/RNRenderer");
var _core = require("./reanimated2/core");
var _PlatformChecker = require("./reanimated2/PlatformChecker");
var _animation = require("./reanimated2/animation");
var _layoutReanimation = require("./reanimated2/layoutReanimation");
var _ViewDescriptorsSet = require("./reanimated2/ViewDescriptorsSet");
var _fabricUtils = require("./reanimated2/fabricUtils");
var _UpdateProps = _interopRequireDefault(require("./reanimated2/UpdateProps"));
var _NativeReanimated = _interopRequireDefault(require("./reanimated2/NativeReanimated"));
var _reanimated = require("./reanimated2");
var _PropsRegistry = require("./reanimated2/PropsRegistry");
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _extends() {
  _extends = Object.assign ? Object.assign.bind() : function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function _defineProperty(obj, key, value) {
  key = _toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
function _toPropertyKey(arg) {
  var key = _toPrimitive(arg, "string");
  return typeof key === "symbol" ? key : String(key);
}
function _toPrimitive(input, hint) {
  if (typeof input !== "object" || input === null) return input;
  var prim = input[Symbol.toPrimitive];
  if (prim !== undefined) {
    var res = prim.call(input, hint || "default");
    if (typeof res !== "object") return res;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (hint === "string" ? String : Number)(input);
}
function dummyListener() {}
function maybeBuild(layoutAnimationOrBuilder) {
  var isAnimationBuilder = function isAnimationBuilder(value) {
    return 'build' in layoutAnimationOrBuilder && typeof layoutAnimationOrBuilder.build === 'function';
  };
  if (isAnimationBuilder(layoutAnimationOrBuilder)) {
    return layoutAnimationOrBuilder.build();
  } else {
    return layoutAnimationOrBuilder;
  }
}
function flattenArray(array) {
  if (!Array.isArray(array)) {
    return [array];
  }
  var resultArr = [];
  var _flattenArray = function _flattenArray(arr) {
    arr.forEach(function (item) {
      if (Array.isArray(item)) {
        _flattenArray(item);
      } else {
        resultArr.push(item);
      }
    });
  };
  _flattenArray(array);
  return resultArr;
}
function onlyAnimatedStyles(styles) {
  return styles.filter(function (style) {
    return style === null || style === void 0 ? void 0 : style.viewDescriptors;
  });
}
function isSameAnimatedStyle(style1, style2) {
  return (style1 === null || style1 === void 0 ? void 0 : style1.viewsRef) === (style2 === null || style2 === void 0 ? void 0 : style2.viewsRef);
}
var isSameAnimatedProps = isSameAnimatedStyle;
var has = function has(key, x) {
  if (typeof x === 'function' || typeof x === 'object') {
    if (x === null || x === undefined) {
      return false;
    } else {
      return key in x;
    }
  }
  return false;
};
function isInlineStyleTransform(transform) {
  if (!transform) {
    return false;
  }
  return transform.some(function (t) {
    return hasInlineStyles(t);
  });
}
function hasInlineStyles(style) {
  if (!style) {
    return false;
  }
  return Object.keys(style).some(function (key) {
    var styleValue = style[key];
    return (0, _reanimated.isSharedValue)(styleValue) || key === 'transform' && isInlineStyleTransform(styleValue);
  });
}
function extractSharedValuesMapFromProps(props) {
  var inlineProps = {};
  for (var key in props) {
    var value = props[key];
    if (key === 'style') {
      var _props$style;
      var styles = flattenArray((_props$style = props.style) != null ? _props$style : []);
      styles.forEach(function (style) {
        if (!style) {
          return;
        }
        for (var _ref of Object.entries(style)) {
          var _ref2 = (0, _slicedToArray2.default)(_ref, 2);
          var _key = _ref2[0];
          var styleValue = _ref2[1];
          if ((0, _reanimated.isSharedValue)(styleValue)) {
            inlineProps[_key] = styleValue;
          } else if (_key === 'transform' && isInlineStyleTransform(styleValue)) {
            inlineProps[_key] = styleValue;
          }
        }
      });
    } else if ((0, _reanimated.isSharedValue)(value)) {
      inlineProps[key] = value;
    }
  }
  return inlineProps;
}
function inlinePropsHasChanged(styles1, styles2) {
  if (Object.keys(styles1).length !== Object.keys(styles2).length) {
    return true;
  }
  for (var key of Object.keys(styles1)) {
    if (styles1[key] !== styles2[key]) return true;
  }
  return false;
}
function getInlinePropsUpdate(inlineProps) {
  'worklet';

  var update = {};
  for (var _ref3 of Object.entries(inlineProps)) {
    var _ref4 = (0, _slicedToArray2.default)(_ref3, 2);
    var key = _ref4[0];
    var styleValue = _ref4[1];
    if (key === 'transform') {
      update[key] = styleValue.map(function (transform) {
        return getInlinePropsUpdate(transform);
      });
    } else if ((0, _reanimated.isSharedValue)(styleValue)) {
      update[key] = styleValue.value;
    } else {
      update[key] = styleValue;
    }
  }
  return update;
}
function createAnimatedComponent(Component, options) {
  (0, _invariant.default)(typeof Component !== 'function' || Component.prototype && Component.prototype.isReactComponent, `Looks like you're passing a function component \`${Component.name}\` to \`createAnimatedComponent\` function which supports only class components. Please wrap your function component with \`React.forwardRef()\` or use a class component instead.`);
  var AnimatedComponent = function (_React$Component) {
    (0, _inherits2.default)(AnimatedComponent, _React$Component);
    var _super = _createSuper(AnimatedComponent);
    function AnimatedComponent(props) {
      var _this;
      (0, _classCallCheck2.default)(this, AnimatedComponent);
      _this = _super.call(this, props);
      _defineProperty((0, _assertThisInitialized2.default)(_this), "_styles", null);
      _defineProperty((0, _assertThisInitialized2.default)(_this), "_animatedProps", void 0);
      _defineProperty((0, _assertThisInitialized2.default)(_this), "_viewTag", -1);
      _defineProperty((0, _assertThisInitialized2.default)(_this), "_isFirstRender", true);
      _defineProperty((0, _assertThisInitialized2.default)(_this), "animatedStyle", {
        value: {}
      });
      _defineProperty((0, _assertThisInitialized2.default)(_this), "initialStyle", {});
      _defineProperty((0, _assertThisInitialized2.default)(_this), "_component", null);
      _defineProperty((0, _assertThisInitialized2.default)(_this), "_inlinePropsViewDescriptors", null);
      _defineProperty((0, _assertThisInitialized2.default)(_this), "_inlinePropsMapperId", null);
      _defineProperty((0, _assertThisInitialized2.default)(_this), "_inlineProps", {});
      _defineProperty((0, _assertThisInitialized2.default)(_this), "_sharedElementTransition", null);
      _defineProperty((0, _assertThisInitialized2.default)(_this), "_setComponentRef", (0, _setAndForwardRef.default)({
        getForwardedRef: function getForwardedRef() {
          return _this.props.forwardedRef;
        },
        setLocalRef: function setLocalRef(ref) {
          var tag = (0, _reactNative.findNodeHandle)(ref);
          var _this$props = _this.props,
            layout = _this$props.layout,
            entering = _this$props.entering,
            exiting = _this$props.exiting,
            sharedTransitionTag = _this$props.sharedTransitionTag;
          if ((layout || entering || exiting || sharedTransitionTag) && tag != null) {
            if (!(0, _PlatformChecker.shouldBeUseWeb)()) {
              (0, _core.enableLayoutAnimations)(true, false);
            }
            if (layout) {
              (0, _core.configureLayoutAnimations)(tag, _layoutReanimation.LayoutAnimationType.LAYOUT, maybeBuild(layout));
            }
            if (entering) {
              (0, _core.configureLayoutAnimations)(tag, _layoutReanimation.LayoutAnimationType.ENTERING, maybeBuild(entering));
            }
            if (exiting) {
              (0, _core.configureLayoutAnimations)(tag, _layoutReanimation.LayoutAnimationType.EXITING, maybeBuild(exiting));
            }
            if (sharedTransitionTag) {
              var _this$props$sharedTra;
              var sharedElementTransition = (_this$props$sharedTra = _this.props.sharedTransitionStyle) != null ? _this$props$sharedTra : new _layoutReanimation.SharedTransition();
              sharedElementTransition.registerTransition(tag, sharedTransitionTag);
              _this._sharedElementTransition = sharedElementTransition;
            }
          }
          if (ref !== _this._component) {
            _this._component = ref;
          }
        }
      }));
      if ((0, _PlatformChecker.isJest)()) {
        _this.animatedStyle = {
          value: {}
        };
      }
      return _this;
    }
    (0, _createClass2.default)(AnimatedComponent, [{
      key: "componentWillUnmount",
      value: function componentWillUnmount() {
        var _this$_sharedElementT;
        this._detachNativeEvents();
        this._detachStyles();
        this._detachInlineProps();
        (_this$_sharedElementT = this._sharedElementTransition) === null || _this$_sharedElementT === void 0 ? void 0 : _this$_sharedElementT.unregisterTransition(this._viewTag);
      }
    }, {
      key: "componentDidMount",
      value: function componentDidMount() {
        this._attachNativeEvents();
        this._attachAnimatedStyles();
        this._attachInlineProps();
      }
    }, {
      key: "_getEventViewRef",
      value: function _getEventViewRef() {
        var _this$_component;
        return (_this$_component = this._component) !== null && _this$_component !== void 0 && _this$_component.getScrollableNode ? this._component.getScrollableNode() : this._component;
      }
    }, {
      key: "_attachNativeEvents",
      value: function _attachNativeEvents() {
        var node = this._getEventViewRef();
        var viewTag = null;
        for (var key in this.props) {
          var prop = this.props[key];
          if (has('current', prop) && prop.current instanceof _WorkletEventHandler.default) {
            if (viewTag === null) {
              viewTag = (0, _reactNative.findNodeHandle)(options !== null && options !== void 0 && options.setNativeProps ? this : node);
            }
            prop.current.registerForEvents(viewTag, key);
          }
        }
      }
    }, {
      key: "_detachNativeEvents",
      value: function _detachNativeEvents() {
        for (var key in this.props) {
          var prop = this.props[key];
          if (has('current', prop) && prop.current instanceof _WorkletEventHandler.default) {
            prop.current.unregisterFromEvents();
          }
        }
      }
    }, {
      key: "_detachStyles",
      value: function _detachStyles() {
        if ((0, _PlatformChecker.isWeb)() && this._styles !== null) {
          for (var style of this._styles) {
            if (style !== null && style !== void 0 && style.viewsRef) {
              style.viewsRef.remove(this);
            }
          }
        } else if (this._viewTag !== -1 && this._styles !== null) {
          var _this$props$animatedP;
          for (var _style of this._styles) {
            _style.viewDescriptors.remove(this._viewTag);
          }
          if ((_this$props$animatedP = this.props.animatedProps) !== null && _this$props$animatedP !== void 0 && _this$props$animatedP.viewDescriptors) {
            this.props.animatedProps.viewDescriptors.remove(this._viewTag);
          }
          if (global._IS_FABRIC) {
            (0, _PropsRegistry.removeFromPropsRegistry)(this._viewTag);
          }
        }
      }
    }, {
      key: "_reattachNativeEvents",
      value: function _reattachNativeEvents(prevProps) {
        for (var key in prevProps) {
          var prop = this.props[key];
          if (has('current', prop) && prop.current instanceof _WorkletEventHandler.default && prop.current.reattachNeeded) {
            prop.current.unregisterFromEvents();
          }
        }
        var viewTag = null;
        for (var _key2 in this.props) {
          var _prop = this.props[_key2];
          if (has('current', _prop) && _prop.current instanceof _WorkletEventHandler.default && _prop.current.reattachNeeded) {
            if (viewTag === null) {
              var node = this._getEventViewRef();
              viewTag = (0, _reactNative.findNodeHandle)(options !== null && options !== void 0 && options.setNativeProps ? this : node);
            }
            _prop.current.registerForEvents(viewTag, _key2);
            _prop.current.reattachNeeded = false;
          }
        }
      }
    }, {
      key: "_updateFromNative",
      value: function _updateFromNative(props) {
        if (options !== null && options !== void 0 && options.setNativeProps) {
          options.setNativeProps(this._component, props);
        } else {
          var _this$_component2, _this$_component2$set;
          (_this$_component2 = this._component) === null || _this$_component2 === void 0 ? void 0 : (_this$_component2$set = _this$_component2.setNativeProps) === null || _this$_component2$set === void 0 ? void 0 : _this$_component2$set.call(_this$_component2, props);
        }
      }
    }, {
      key: "_getViewInfo",
      value: function _getViewInfo() {
        var _this$_component3;
        var viewTag;
        var viewName;
        var shadowNodeWrapper = null;
        var viewConfig;
        var component = (_this$_component3 = this._component) !== null && _this$_component3 !== void 0 && _this$_component3.getAnimatableRef ? this._component.getAnimatableRef() : this;
        if ((0, _PlatformChecker.isWeb)()) {
          viewTag = (0, _reactNative.findNodeHandle)(component);
          viewName = null;
          shadowNodeWrapper = null;
          viewConfig = null;
        } else {
          var _hostInstance$viewCon;
          var hostInstance = _RNRenderer.RNRenderer.findHostInstance_DEPRECATED(component);
          if (!hostInstance) {
            throw new Error('Cannot find host instance for this component. Maybe it renders nothing?');
          }
          viewTag = hostInstance === null || hostInstance === void 0 ? void 0 : hostInstance._nativeTag;
          viewName = hostInstance === null || hostInstance === void 0 ? void 0 : (_hostInstance$viewCon = hostInstance.viewConfig) === null || _hostInstance$viewCon === void 0 ? void 0 : _hostInstance$viewCon.uiViewClassName;
          viewConfig = hostInstance === null || hostInstance === void 0 ? void 0 : hostInstance.viewConfig;
          if (global._IS_FABRIC) {
            shadowNodeWrapper = (0, _fabricUtils.getShadowNodeWrapperFromRef)(this);
          }
        }
        return {
          viewTag: viewTag,
          viewName: viewName,
          shadowNodeWrapper: shadowNodeWrapper,
          viewConfig: viewConfig
        };
      }
    }, {
      key: "_attachAnimatedStyles",
      value: function _attachAnimatedStyles() {
        var _this2 = this;
        var _this$props$animatedP2, _this$props$animatedP3;
        var styles = this.props.style ? onlyAnimatedStyles(flattenArray(this.props.style)) : [];
        var prevStyles = this._styles;
        this._styles = styles;
        var prevAnimatedProps = this._animatedProps;
        this._animatedProps = this.props.animatedProps;
        var _this$_getViewInfo = this._getViewInfo(),
          viewTag = _this$_getViewInfo.viewTag,
          viewName = _this$_getViewInfo.viewName,
          shadowNodeWrapper = _this$_getViewInfo.shadowNodeWrapper,
          viewConfig = _this$_getViewInfo.viewConfig;
        var hasReanimated2Props = ((_this$props$animatedP2 = this.props.animatedProps) === null || _this$props$animatedP2 === void 0 ? void 0 : _this$props$animatedP2.viewDescriptors) || styles.length;
        if (hasReanimated2Props && viewConfig) {
          (0, _ConfigHelper.adaptViewConfig)(viewConfig);
        }
        this._viewTag = viewTag;
        if (prevStyles) {
          var hasOneSameStyle = styles.length === 1 && prevStyles.length === 1 && isSameAnimatedStyle(styles[0], prevStyles[0]);
          if (!hasOneSameStyle) {
            var _loop = function _loop(prevStyle) {
              var isPresent = styles.some(function (style) {
                return isSameAnimatedStyle(style, prevStyle);
              });
              if (!isPresent) {
                prevStyle.viewDescriptors.remove(viewTag);
              }
            };
            for (var prevStyle of prevStyles) {
              _loop(prevStyle);
            }
          }
        }
        styles.forEach(function (style) {
          style.viewDescriptors.add({
            tag: viewTag,
            name: viewName,
            shadowNodeWrapper: shadowNodeWrapper
          });
          if ((0, _PlatformChecker.isJest)()) {
            _this2.animatedStyle.value = Object.assign({}, _this2.animatedStyle.value, style.initial.value);
            style.animatedStyle.current = _this2.animatedStyle;
          }
        });
        if (prevAnimatedProps && !isSameAnimatedProps(prevAnimatedProps, this.props.animatedProps)) {
          prevAnimatedProps.viewDescriptors.remove(viewTag);
        }
        if ((_this$props$animatedP3 = this.props.animatedProps) !== null && _this$props$animatedP3 !== void 0 && _this$props$animatedP3.viewDescriptors) {
          this.props.animatedProps.viewDescriptors.add({
            tag: viewTag,
            name: viewName,
            shadowNodeWrapper: shadowNodeWrapper
          });
        }
      }
    }, {
      key: "_attachInlineProps",
      value: function _attachInlineProps() {
        var newInlineProps = extractSharedValuesMapFromProps(this.props);
        var hasChanged = inlinePropsHasChanged(newInlineProps, this._inlineProps);
        if (hasChanged) {
          if (!this._inlinePropsViewDescriptors) {
            this._inlinePropsViewDescriptors = (0, _ViewDescriptorsSet.makeViewDescriptorsSet)();
            var _this$_getViewInfo2 = this._getViewInfo(),
              viewTag = _this$_getViewInfo2.viewTag,
              viewName = _this$_getViewInfo2.viewName,
              shadowNodeWrapper = _this$_getViewInfo2.shadowNodeWrapper,
              viewConfig = _this$_getViewInfo2.viewConfig;
            if (Object.keys(newInlineProps).length && viewConfig) {
              (0, _ConfigHelper.adaptViewConfig)(viewConfig);
            }
            this._inlinePropsViewDescriptors.add({
              tag: viewTag,
              name: viewName,
              shadowNodeWrapper: shadowNodeWrapper
            });
          }
          var sharableViewDescriptors = this._inlinePropsViewDescriptors.sharableViewDescriptors;
          var maybeViewRef = _NativeReanimated.default.native ? undefined : {
            items: new Set([this])
          };
          var updaterFunction = function updaterFunction() {
            'worklet';

            var update = getInlinePropsUpdate(newInlineProps);
            (0, _UpdateProps.default)(sharableViewDescriptors, update, maybeViewRef);
          };
          this._inlineProps = newInlineProps;
          if (this._inlinePropsMapperId) {
            (0, _core.stopMapper)(this._inlinePropsMapperId);
          }
          this._inlinePropsMapperId = null;
          if (Object.keys(newInlineProps).length) {
            this._inlinePropsMapperId = (0, _core.startMapper)(updaterFunction, Object.values(newInlineProps));
          }
        }
      }
    }, {
      key: "_detachInlineProps",
      value: function _detachInlineProps() {
        if (this._inlinePropsMapperId) {
          (0, _core.stopMapper)(this._inlinePropsMapperId);
        }
      }
    }, {
      key: "componentDidUpdate",
      value: function componentDidUpdate(prevProps) {
        this._reattachNativeEvents(prevProps);
        this._attachAnimatedStyles();
        this._attachInlineProps();
      }
    }, {
      key: "_filterNonAnimatedProps",
      value: function _filterNonAnimatedProps(inputProps) {
        var _this3 = this;
        var props = {};
        var _loop2 = function _loop2() {
          var value = inputProps[key];
          if (key === 'style') {
            var styleProp = inputProps.style;
            var styles = flattenArray(styleProp != null ? styleProp : []);
            var processedStyle = styles.map(function (style) {
              if (style && style.viewDescriptors) {
                style.viewsRef.add(_this3);
                if (_this3._isFirstRender) {
                  _this3.initialStyle = Object.assign({}, style.initial.value, _this3.initialStyle, (0, _animation.initialUpdaterRun)(style.initial.updater));
                }
                return _this3.initialStyle;
              } else if (hasInlineStyles(style)) {
                if (_this3._isFirstRender) {
                  return getInlinePropsUpdate(style);
                }
                var newStyle = {};
                for (var _ref5 of Object.entries(style)) {
                  var _ref6 = (0, _slicedToArray2.default)(_ref5, 2);
                  var _key3 = _ref6[0];
                  var styleValue = _ref6[1];
                  if (!(0, _reanimated.isSharedValue)(styleValue) && !(_key3 === 'transform' && isInlineStyleTransform(styleValue))) {
                    newStyle[_key3] = styleValue;
                  }
                }
                return newStyle;
              } else {
                return style;
              }
            });
            props[key] = _reactNative.StyleSheet.flatten(processedStyle);
          } else if (key === 'animatedProps') {
            var animatedProp = inputProps.animatedProps;
            if (animatedProp.initial !== undefined) {
              Object.keys(animatedProp.initial.value).forEach(function (key) {
                var _animatedProp$initial, _animatedProp$viewsRe;
                props[key] = (_animatedProp$initial = animatedProp.initial) === null || _animatedProp$initial === void 0 ? void 0 : _animatedProp$initial.value[key];
                (_animatedProp$viewsRe = animatedProp.viewsRef) === null || _animatedProp$viewsRe === void 0 ? void 0 : _animatedProp$viewsRe.add(_this3);
              });
            }
          } else if (has('current', value) && value.current instanceof _WorkletEventHandler.default) {
            if (value.current.eventNames.length > 0) {
              value.current.eventNames.forEach(function (eventName) {
                props[eventName] = has('listeners', value.current) ? value.current.listeners[eventName] : dummyListener;
              });
            } else {
              props[key] = dummyListener;
            }
          } else if ((0, _reanimated.isSharedValue)(value)) {
            if (_this3._isFirstRender) {
              props[key] = value.value;
            }
          } else if (key !== 'onGestureHandlerStateChange' || !(0, _PlatformChecker.isChromeDebugger)()) {
            props[key] = value;
          }
        };
        for (var key in inputProps) {
          _loop2();
        }
        return props;
      }
    }, {
      key: "render",
      value: function render() {
        var props = this._filterNonAnimatedProps(this.props);
        if ((0, _PlatformChecker.isJest)()) {
          props.animatedStyle = this.animatedStyle;
        }
        if (this._isFirstRender) {
          this._isFirstRender = false;
        }
        var platformProps = _reactNative.Platform.select({
          web: {},
          default: {
            collapsable: false
          }
        });
        return _react.default.createElement(Component, _extends({}, props, {
          ref: this._setComponentRef
        }, platformProps));
      }
    }]);
    return AnimatedComponent;
  }(_react.default.Component);
  _defineProperty(AnimatedComponent, "displayName", void 0);
  AnimatedComponent.displayName = `AnimatedComponent(${Component.displayName || Component.name || 'Component'})`;
  return _react.default.forwardRef(function (props, ref) {
    return _react.default.createElement(AnimatedComponent, _extends({}, props, ref === null ? null : {
      forwardedRef: ref
    }));
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9Xb3JrbGV0RXZlbnRIYW5kbGVyIiwiX3NldEFuZEZvcndhcmRSZWYiLCJfaW52YXJpYW50IiwiX0NvbmZpZ0hlbHBlciIsIl9STlJlbmRlcmVyIiwiX2NvcmUiLCJfUGxhdGZvcm1DaGVja2VyIiwiX2FuaW1hdGlvbiIsIl9sYXlvdXRSZWFuaW1hdGlvbiIsIl9WaWV3RGVzY3JpcHRvcnNTZXQiLCJfZmFicmljVXRpbHMiLCJfVXBkYXRlUHJvcHMiLCJfTmF0aXZlUmVhbmltYXRlZCIsIl9yZWFuaW1hdGVkIiwiX1Byb3BzUmVnaXN0cnkiLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwiaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfY3JlYXRlU3VwZXJJbnRlcm5hbCIsIlN1cGVyIiwiX2dldFByb3RvdHlwZU9mMiIsImRlZmF1bHQiLCJyZXN1bHQiLCJOZXdUYXJnZXQiLCJjb25zdHJ1Y3RvciIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJhcmd1bWVudHMiLCJhcHBseSIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsInNoYW0iLCJQcm94eSIsIkJvb2xlYW4iLCJwcm90b3R5cGUiLCJ2YWx1ZU9mIiwiY2FsbCIsImUiLCJkdW1teUxpc3RlbmVyIiwibWF5YmVCdWlsZCIsImxheW91dEFuaW1hdGlvbk9yQnVpbGRlciIsImlzQW5pbWF0aW9uQnVpbGRlciIsInZhbHVlIiwiYnVpbGQiLCJmbGF0dGVuQXJyYXkiLCJhcnJheSIsIkFycmF5IiwiaXNBcnJheSIsInJlc3VsdEFyciIsIl9mbGF0dGVuQXJyYXkiLCJhcnIiLCJmb3JFYWNoIiwiaXRlbSIsInB1c2giLCJvbmx5QW5pbWF0ZWRTdHlsZXMiLCJzdHlsZXMiLCJmaWx0ZXIiLCJzdHlsZSIsInZpZXdEZXNjcmlwdG9ycyIsImlzU2FtZUFuaW1hdGVkU3R5bGUiLCJzdHlsZTEiLCJzdHlsZTIiLCJ2aWV3c1JlZiIsImlzU2FtZUFuaW1hdGVkUHJvcHMiLCJoYXMiLCJrZXkiLCJ4IiwidW5kZWZpbmVkIiwiaXNJbmxpbmVTdHlsZVRyYW5zZm9ybSIsInRyYW5zZm9ybSIsInNvbWUiLCJ0IiwiaGFzSW5saW5lU3R5bGVzIiwiT2JqZWN0Iiwia2V5cyIsInN0eWxlVmFsdWUiLCJpc1NoYXJlZFZhbHVlIiwiZXh0cmFjdFNoYXJlZFZhbHVlc01hcEZyb21Qcm9wcyIsInByb3BzIiwiaW5saW5lUHJvcHMiLCJfcHJvcHMkc3R5bGUiLCJfcmVmIiwiZW50cmllcyIsIl9yZWYyIiwiX3NsaWNlZFRvQXJyYXkyIiwiaW5saW5lUHJvcHNIYXNDaGFuZ2VkIiwic3R5bGVzMSIsInN0eWxlczIiLCJsZW5ndGgiLCJnZXRJbmxpbmVQcm9wc1VwZGF0ZSIsInVwZGF0ZSIsIl9yZWYzIiwiX3JlZjQiLCJtYXAiLCJjcmVhdGVBbmltYXRlZENvbXBvbmVudCIsIkNvbXBvbmVudCIsIm9wdGlvbnMiLCJpbnZhcmlhbnQiLCJpc1JlYWN0Q29tcG9uZW50IiwibmFtZSIsIkFuaW1hdGVkQ29tcG9uZW50IiwiX1JlYWN0JENvbXBvbmVudCIsIl9pbmhlcml0czIiLCJfc3VwZXIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfZGVmaW5lUHJvcGVydHkiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkMiIsInNldEFuZEZvcndhcmRSZWYiLCJnZXRGb3J3YXJkZWRSZWYiLCJmb3J3YXJkZWRSZWYiLCJzZXRMb2NhbFJlZiIsInJlZiIsInRhZyIsImZpbmROb2RlSGFuZGxlIiwiX3RoaXMkcHJvcHMiLCJsYXlvdXQiLCJlbnRlcmluZyIsImV4aXRpbmciLCJzaGFyZWRUcmFuc2l0aW9uVGFnIiwic2hvdWxkQmVVc2VXZWIiLCJlbmFibGVMYXlvdXRBbmltYXRpb25zIiwiY29uZmlndXJlTGF5b3V0QW5pbWF0aW9ucyIsIkxheW91dEFuaW1hdGlvblR5cGUiLCJMQVlPVVQiLCJFTlRFUklORyIsIkVYSVRJTkciLCJfdGhpcyRwcm9wcyRzaGFyZWRUcmEiLCJzaGFyZWRFbGVtZW50VHJhbnNpdGlvbiIsInNoYXJlZFRyYW5zaXRpb25TdHlsZSIsIlNoYXJlZFRyYW5zaXRpb24iLCJyZWdpc3RlclRyYW5zaXRpb24iLCJfc2hhcmVkRWxlbWVudFRyYW5zaXRpb24iLCJfY29tcG9uZW50IiwiaXNKZXN0IiwiYW5pbWF0ZWRTdHlsZSIsIl9jcmVhdGVDbGFzczIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsIl90aGlzJF9zaGFyZWRFbGVtZW50VCIsIl9kZXRhY2hOYXRpdmVFdmVudHMiLCJfZGV0YWNoU3R5bGVzIiwiX2RldGFjaElubGluZVByb3BzIiwidW5yZWdpc3RlclRyYW5zaXRpb24iLCJfdmlld1RhZyIsImNvbXBvbmVudERpZE1vdW50IiwiX2F0dGFjaE5hdGl2ZUV2ZW50cyIsIl9hdHRhY2hBbmltYXRlZFN0eWxlcyIsIl9hdHRhY2hJbmxpbmVQcm9wcyIsIl9nZXRFdmVudFZpZXdSZWYiLCJfdGhpcyRfY29tcG9uZW50IiwiZ2V0U2Nyb2xsYWJsZU5vZGUiLCJub2RlIiwidmlld1RhZyIsInByb3AiLCJjdXJyZW50IiwiV29ya2xldEV2ZW50SGFuZGxlciIsInNldE5hdGl2ZVByb3BzIiwicmVnaXN0ZXJGb3JFdmVudHMiLCJ1bnJlZ2lzdGVyRnJvbUV2ZW50cyIsImlzV2ViIiwiX3N0eWxlcyIsInJlbW92ZSIsIl90aGlzJHByb3BzJGFuaW1hdGVkUCIsImFuaW1hdGVkUHJvcHMiLCJnbG9iYWwiLCJfSVNfRkFCUklDIiwicmVtb3ZlRnJvbVByb3BzUmVnaXN0cnkiLCJfcmVhdHRhY2hOYXRpdmVFdmVudHMiLCJwcmV2UHJvcHMiLCJyZWF0dGFjaE5lZWRlZCIsIl91cGRhdGVGcm9tTmF0aXZlIiwiX3RoaXMkX2NvbXBvbmVudDIiLCJfdGhpcyRfY29tcG9uZW50MiRzZXQiLCJfZ2V0Vmlld0luZm8iLCJfdGhpcyRfY29tcG9uZW50MyIsInZpZXdOYW1lIiwic2hhZG93Tm9kZVdyYXBwZXIiLCJ2aWV3Q29uZmlnIiwiY29tcG9uZW50IiwiZ2V0QW5pbWF0YWJsZVJlZiIsIl9ob3N0SW5zdGFuY2Ukdmlld0NvbiIsImhvc3RJbnN0YW5jZSIsIlJOUmVuZGVyZXIiLCJmaW5kSG9zdEluc3RhbmNlX0RFUFJFQ0FURUQiLCJFcnJvciIsIl9uYXRpdmVUYWciLCJ1aVZpZXdDbGFzc05hbWUiLCJnZXRTaGFkb3dOb2RlV3JhcHBlckZyb21SZWYiLCJfdGhpczIiLCJfdGhpcyRwcm9wcyRhbmltYXRlZFAyIiwiX3RoaXMkcHJvcHMkYW5pbWF0ZWRQMyIsInByZXZTdHlsZXMiLCJwcmV2QW5pbWF0ZWRQcm9wcyIsIl9hbmltYXRlZFByb3BzIiwiX3RoaXMkX2dldFZpZXdJbmZvIiwiaGFzUmVhbmltYXRlZDJQcm9wcyIsImFkYXB0Vmlld0NvbmZpZyIsImhhc09uZVNhbWVTdHlsZSIsIl9sb29wIiwicHJldlN0eWxlIiwiaXNQcmVzZW50IiwiYWRkIiwiYXNzaWduIiwiaW5pdGlhbCIsIm5ld0lubGluZVByb3BzIiwiaGFzQ2hhbmdlZCIsIl9pbmxpbmVQcm9wcyIsIl9pbmxpbmVQcm9wc1ZpZXdEZXNjcmlwdG9ycyIsIm1ha2VWaWV3RGVzY3JpcHRvcnNTZXQiLCJfdGhpcyRfZ2V0Vmlld0luZm8yIiwic2hhcmFibGVWaWV3RGVzY3JpcHRvcnMiLCJtYXliZVZpZXdSZWYiLCJOYXRpdmVSZWFuaW1hdGVkTW9kdWxlIiwibmF0aXZlIiwiaXRlbXMiLCJTZXQiLCJ1cGRhdGVyRnVuY3Rpb24iLCJ1cGRhdGVQcm9wcyIsIl9pbmxpbmVQcm9wc01hcHBlcklkIiwic3RvcE1hcHBlciIsInN0YXJ0TWFwcGVyIiwidmFsdWVzIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiX2ZpbHRlck5vbkFuaW1hdGVkUHJvcHMiLCJpbnB1dFByb3BzIiwiX3RoaXMzIiwiX2xvb3AyIiwic3R5bGVQcm9wIiwicHJvY2Vzc2VkU3R5bGUiLCJfaXNGaXJzdFJlbmRlciIsImluaXRpYWxTdHlsZSIsImluaXRpYWxVcGRhdGVyUnVuIiwidXBkYXRlciIsIm5ld1N0eWxlIiwiX3JlZjUiLCJfcmVmNiIsIlN0eWxlU2hlZXQiLCJmbGF0dGVuIiwiYW5pbWF0ZWRQcm9wIiwiX2FuaW1hdGVkUHJvcCRpbml0aWFsIiwiX2FuaW1hdGVkUHJvcCR2aWV3c1JlIiwiZXZlbnROYW1lcyIsImV2ZW50TmFtZSIsImxpc3RlbmVycyIsImlzQ2hyb21lRGVidWdnZXIiLCJyZW5kZXIiLCJwbGF0Zm9ybVByb3BzIiwiUGxhdGZvcm0iLCJzZWxlY3QiLCJ3ZWIiLCJjb2xsYXBzYWJsZSIsIlJlYWN0IiwiY3JlYXRlRWxlbWVudCIsIl9leHRlbmRzIiwiX3NldENvbXBvbmVudFJlZiIsImRpc3BsYXlOYW1lIiwiZm9yd2FyZFJlZiJdLCJzb3VyY2VzIjpbImNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7XG4gIENvbXBvbmVudCxcbiAgQ29tcG9uZW50Q2xhc3MsXG4gIENvbXBvbmVudFR5cGUsXG4gIEZ1bmN0aW9uQ29tcG9uZW50LFxuICBNdXRhYmxlUmVmT2JqZWN0LFxuICBSZWYsXG59IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmaW5kTm9kZUhhbmRsZSwgUGxhdGZvcm0sIFN0eWxlU2hlZXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IFdvcmtsZXRFdmVudEhhbmRsZXIgZnJvbSAnLi9yZWFuaW1hdGVkMi9Xb3JrbGV0RXZlbnRIYW5kbGVyJztcbmltcG9ydCBzZXRBbmRGb3J3YXJkUmVmIGZyb20gJy4vc2V0QW5kRm9yd2FyZFJlZic7XG5pbXBvcnQgJy4vcmVhbmltYXRlZDIvbGF5b3V0UmVhbmltYXRpb24vYW5pbWF0aW9uc01hbmFnZXInO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IHsgYWRhcHRWaWV3Q29uZmlnIH0gZnJvbSAnLi9Db25maWdIZWxwZXInO1xuaW1wb3J0IHsgUk5SZW5kZXJlciB9IGZyb20gJy4vcmVhbmltYXRlZDIvcGxhdGZvcm0tc3BlY2lmaWMvUk5SZW5kZXJlcic7XG5pbXBvcnQge1xuICBjb25maWd1cmVMYXlvdXRBbmltYXRpb25zLFxuICBlbmFibGVMYXlvdXRBbmltYXRpb25zLFxuICBzdGFydE1hcHBlcixcbiAgc3RvcE1hcHBlcixcbn0gZnJvbSAnLi9yZWFuaW1hdGVkMi9jb3JlJztcbmltcG9ydCB7XG4gIGlzSmVzdCxcbiAgaXNDaHJvbWVEZWJ1Z2dlcixcbiAgc2hvdWxkQmVVc2VXZWIsXG4gIGlzV2ViLFxufSBmcm9tICcuL3JlYW5pbWF0ZWQyL1BsYXRmb3JtQ2hlY2tlcic7XG5pbXBvcnQgeyBpbml0aWFsVXBkYXRlclJ1biB9IGZyb20gJy4vcmVhbmltYXRlZDIvYW5pbWF0aW9uJztcbmltcG9ydCB0eXBlIHtcbiAgQmFzZUFuaW1hdGlvbkJ1aWxkZXIsXG4gIEVudHJ5RXhpdEFuaW1hdGlvbkZ1bmN0aW9uLFxuICBJTGF5b3V0QW5pbWF0aW9uQnVpbGRlcixcbiAgTGF5b3V0QW5pbWF0aW9uRnVuY3Rpb24sXG59IGZyb20gJy4vcmVhbmltYXRlZDIvbGF5b3V0UmVhbmltYXRpb24nO1xuaW1wb3J0IHtcbiAgU2hhcmVkVHJhbnNpdGlvbixcbiAgTGF5b3V0QW5pbWF0aW9uVHlwZSxcbn0gZnJvbSAnLi9yZWFuaW1hdGVkMi9sYXlvdXRSZWFuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7XG4gIFNoYXJlZFZhbHVlLFxuICBTdHlsZVByb3BzLFxuICBTaGFkb3dOb2RlV3JhcHBlcixcbn0gZnJvbSAnLi9yZWFuaW1hdGVkMi9jb21tb25UeXBlcyc7XG5pbXBvcnQgdHlwZSB7XG4gIFZpZXdEZXNjcmlwdG9yc1NldCxcbiAgVmlld1JlZlNldCxcbn0gZnJvbSAnLi9yZWFuaW1hdGVkMi9WaWV3RGVzY3JpcHRvcnNTZXQnO1xuaW1wb3J0IHsgbWFrZVZpZXdEZXNjcmlwdG9yc1NldCB9IGZyb20gJy4vcmVhbmltYXRlZDIvVmlld0Rlc2NyaXB0b3JzU2V0JztcbmltcG9ydCB7IGdldFNoYWRvd05vZGVXcmFwcGVyRnJvbVJlZiB9IGZyb20gJy4vcmVhbmltYXRlZDIvZmFicmljVXRpbHMnO1xuaW1wb3J0IHVwZGF0ZVByb3BzIGZyb20gJy4vcmVhbmltYXRlZDIvVXBkYXRlUHJvcHMnO1xuaW1wb3J0IE5hdGl2ZVJlYW5pbWF0ZWRNb2R1bGUgZnJvbSAnLi9yZWFuaW1hdGVkMi9OYXRpdmVSZWFuaW1hdGVkJztcbmltcG9ydCB7IGlzU2hhcmVkVmFsdWUgfSBmcm9tICcuL3JlYW5pbWF0ZWQyJztcbmltcG9ydCB0eXBlIHsgQW5pbWF0ZVByb3BzIH0gZnJvbSAnLi9yZWFuaW1hdGVkMi9oZWxwZXJUeXBlcyc7XG5pbXBvcnQgeyByZW1vdmVGcm9tUHJvcHNSZWdpc3RyeSB9IGZyb20gJy4vcmVhbmltYXRlZDIvUHJvcHNSZWdpc3RyeSc7XG5cbmZ1bmN0aW9uIGR1bW15TGlzdGVuZXIoKSB7XG4gIC8vIGVtcHR5IGxpc3RlbmVyIHdlIHVzZSB0byBhc3NpZ24gdG8gbGlzdGVuZXIgcHJvcGVydGllcyBmb3Igd2hpY2ggYW5pbWF0ZWRcbiAgLy8gZXZlbnQgaXMgdXNlZC5cbn1cblxuZnVuY3Rpb24gbWF5YmVCdWlsZChcbiAgbGF5b3V0QW5pbWF0aW9uT3JCdWlsZGVyOlxuICAgIHwgSUxheW91dEFuaW1hdGlvbkJ1aWxkZXJcbiAgICB8IExheW91dEFuaW1hdGlvbkZ1bmN0aW9uXG4gICAgfCBLZXlmcmFtZVxuKTogTGF5b3V0QW5pbWF0aW9uRnVuY3Rpb24gfCBLZXlmcmFtZSB7XG4gIGNvbnN0IGlzQW5pbWF0aW9uQnVpbGRlciA9IChcbiAgICB2YWx1ZTogSUxheW91dEFuaW1hdGlvbkJ1aWxkZXIgfCBMYXlvdXRBbmltYXRpb25GdW5jdGlvbiB8IEtleWZyYW1lXG4gICk6IHZhbHVlIGlzIElMYXlvdXRBbmltYXRpb25CdWlsZGVyID0+XG4gICAgJ2J1aWxkJyBpbiBsYXlvdXRBbmltYXRpb25PckJ1aWxkZXIgJiZcbiAgICB0eXBlb2YgbGF5b3V0QW5pbWF0aW9uT3JCdWlsZGVyLmJ1aWxkID09PSAnZnVuY3Rpb24nO1xuXG4gIGlmIChpc0FuaW1hdGlvbkJ1aWxkZXIobGF5b3V0QW5pbWF0aW9uT3JCdWlsZGVyKSkge1xuICAgIHJldHVybiBsYXlvdXRBbmltYXRpb25PckJ1aWxkZXIuYnVpbGQoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGF5b3V0QW5pbWF0aW9uT3JCdWlsZGVyO1xuICB9XG59XG5cbnR5cGUgTmVzdGVkQXJyYXk8VD4gPSBUIHwgTmVzdGVkQXJyYXk8VD5bXTtcbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheTxUPihhcnJheTogTmVzdGVkQXJyYXk8VD4pOiBUW10ge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgcmV0dXJuIFthcnJheV07XG4gIH1cbiAgY29uc3QgcmVzdWx0QXJyOiBUW10gPSBbXTtcblxuICBjb25zdCBfZmxhdHRlbkFycmF5ID0gKGFycjogTmVzdGVkQXJyYXk8VD5bXSk6IHZvaWQgPT4ge1xuICAgIGFyci5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICBfZmxhdHRlbkFycmF5KGl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0QXJyLnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIF9mbGF0dGVuQXJyYXkoYXJyYXkpO1xuICByZXR1cm4gcmVzdWx0QXJyO1xufVxuXG5mdW5jdGlvbiBvbmx5QW5pbWF0ZWRTdHlsZXMoc3R5bGVzOiBTdHlsZVByb3BzW10pIHtcbiAgcmV0dXJuIHN0eWxlcy5maWx0ZXIoKHN0eWxlKSA9PiBzdHlsZT8udmlld0Rlc2NyaXB0b3JzKTtcbn1cblxuZnVuY3Rpb24gaXNTYW1lQW5pbWF0ZWRTdHlsZShcbiAgc3R5bGUxPzogU3R5bGVQcm9wcyxcbiAgc3R5bGUyPzogU3R5bGVQcm9wc1xuKTogYm9vbGVhbiB7XG4gIC8vIFdlIGNhbm5vdCB1c2UgZXF1YWxpdHkgY2hlY2sgdG8gY29tcGFyZSB1c2VBbmltYXRlZFN0eWxlIG91dHB1dHMgZGlyZWN0bHkuXG4gIC8vIEluc3RlYWQsIHdlIGNhbiBjb21wYXJlIGl0cyB2aWV3c1JlZnMuXG4gIHJldHVybiBzdHlsZTE/LnZpZXdzUmVmID09PSBzdHlsZTI/LnZpZXdzUmVmO1xufVxuXG5jb25zdCBpc1NhbWVBbmltYXRlZFByb3BzID0gaXNTYW1lQW5pbWF0ZWRTdHlsZTtcblxuY29uc3QgaGFzID0gPEsgZXh0ZW5kcyBzdHJpbmc+KFxuICBrZXk6IEssXG4gIHg6IHVua25vd25cbik6IHggaXMgeyBba2V5IGluIEtdOiB1bmtub3duIH0gPT4ge1xuICBpZiAodHlwZW9mIHggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHggPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKHggPT09IG51bGwgfHwgeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBrZXkgaW4geDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZnVuY3Rpb24gaXNJbmxpbmVTdHlsZVRyYW5zZm9ybSh0cmFuc2Zvcm06IGFueSk6IGJvb2xlYW4ge1xuICBpZiAoIXRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtLnNvbWUoKHQ6IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IGhhc0lubGluZVN0eWxlcyh0KSk7XG59XG5cbmZ1bmN0aW9uIGhhc0lubGluZVN0eWxlcyhzdHlsZTogU3R5bGVQcm9wcyk6IGJvb2xlYW4ge1xuICBpZiAoIXN0eWxlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBPYmplY3Qua2V5cyhzdHlsZSkuc29tZSgoa2V5KSA9PiB7XG4gICAgY29uc3Qgc3R5bGVWYWx1ZSA9IHN0eWxlW2tleV07XG4gICAgcmV0dXJuIChcbiAgICAgIGlzU2hhcmVkVmFsdWUoc3R5bGVWYWx1ZSkgfHxcbiAgICAgIChrZXkgPT09ICd0cmFuc2Zvcm0nICYmIGlzSW5saW5lU3R5bGVUcmFuc2Zvcm0oc3R5bGVWYWx1ZSkpXG4gICAgKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RTaGFyZWRWYWx1ZXNNYXBGcm9tUHJvcHMoXG4gIHByb3BzOiBBbmltYXRlZENvbXBvbmVudFByb3BzPEluaXRpYWxDb21wb25lbnRQcm9wcz5cbik6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICBjb25zdCBpbmxpbmVQcm9wczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuXG4gIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBwcm9wc1trZXldO1xuICAgIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IGZsYXR0ZW5BcnJheTxTdHlsZVByb3BzPihwcm9wcy5zdHlsZSA/PyBbXSk7XG4gICAgICBzdHlsZXMuZm9yRWFjaCgoc3R5bGUpID0+IHtcbiAgICAgICAgaWYgKCFzdHlsZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHN0eWxlVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlKSkge1xuICAgICAgICAgIGlmIChpc1NoYXJlZFZhbHVlKHN0eWxlVmFsdWUpKSB7XG4gICAgICAgICAgICBpbmxpbmVQcm9wc1trZXldID0gc3R5bGVWYWx1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAga2V5ID09PSAndHJhbnNmb3JtJyAmJlxuICAgICAgICAgICAgaXNJbmxpbmVTdHlsZVRyYW5zZm9ybShzdHlsZVZhbHVlKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaW5saW5lUHJvcHNba2V5XSA9IHN0eWxlVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGlzU2hhcmVkVmFsdWUodmFsdWUpKSB7XG4gICAgICBpbmxpbmVQcm9wc1trZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGlubGluZVByb3BzO1xufVxuXG5mdW5jdGlvbiBpbmxpbmVQcm9wc0hhc0NoYW5nZWQoc3R5bGVzMTogU3R5bGVQcm9wcywgc3R5bGVzMjogU3R5bGVQcm9wcykge1xuICBpZiAoT2JqZWN0LmtleXMoc3R5bGVzMSkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhzdHlsZXMyKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHN0eWxlczEpKSB7XG4gICAgaWYgKHN0eWxlczFba2V5XSAhPT0gc3R5bGVzMltrZXldKSByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5saW5lUHJvcHNVcGRhdGUoaW5saW5lUHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgJ3dvcmtsZXQnO1xuICBjb25zdCB1cGRhdGU6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgZm9yIChjb25zdCBba2V5LCBzdHlsZVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhpbmxpbmVQcm9wcykpIHtcbiAgICBpZiAoa2V5ID09PSAndHJhbnNmb3JtJykge1xuICAgICAgdXBkYXRlW2tleV0gPSBzdHlsZVZhbHVlLm1hcCgodHJhbnNmb3JtOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB7XG4gICAgICAgIHJldHVybiBnZXRJbmxpbmVQcm9wc1VwZGF0ZSh0cmFuc2Zvcm0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpc1NoYXJlZFZhbHVlKHN0eWxlVmFsdWUpKSB7XG4gICAgICB1cGRhdGVba2V5XSA9IHN0eWxlVmFsdWUudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZVtrZXldID0gc3R5bGVWYWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZTtcbn1cblxuaW50ZXJmYWNlIEFuaW1hdGVkUHJvcHMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIHZpZXdEZXNjcmlwdG9ycz86IFZpZXdEZXNjcmlwdG9yc1NldDtcbiAgdmlld3NSZWY/OiBWaWV3UmVmU2V0PHVua25vd24+O1xuICBpbml0aWFsPzogU2hhcmVkVmFsdWU8U3R5bGVQcm9wcz47XG59XG5cbmV4cG9ydCB0eXBlIEFuaW1hdGVkQ29tcG9uZW50UHJvcHM8UCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+PiA9IFAgJiB7XG4gIGZvcndhcmRlZFJlZj86IFJlZjxDb21wb25lbnQ+O1xuICBzdHlsZT86IE5lc3RlZEFycmF5PFN0eWxlUHJvcHM+O1xuICBhbmltYXRlZFByb3BzPzogUGFydGlhbDxBbmltYXRlZENvbXBvbmVudFByb3BzPEFuaW1hdGVkUHJvcHM+PjtcbiAgYW5pbWF0ZWRTdHlsZT86IFN0eWxlUHJvcHM7XG4gIGxheW91dD86XG4gICAgfCBCYXNlQW5pbWF0aW9uQnVpbGRlclxuICAgIHwgSUxheW91dEFuaW1hdGlvbkJ1aWxkZXJcbiAgICB8IHR5cGVvZiBCYXNlQW5pbWF0aW9uQnVpbGRlcjtcbiAgZW50ZXJpbmc/OlxuICAgIHwgQmFzZUFuaW1hdGlvbkJ1aWxkZXJcbiAgICB8IHR5cGVvZiBCYXNlQW5pbWF0aW9uQnVpbGRlclxuICAgIHwgRW50cnlFeGl0QW5pbWF0aW9uRnVuY3Rpb25cbiAgICB8IEtleWZyYW1lO1xuICBleGl0aW5nPzpcbiAgICB8IEJhc2VBbmltYXRpb25CdWlsZGVyXG4gICAgfCB0eXBlb2YgQmFzZUFuaW1hdGlvbkJ1aWxkZXJcbiAgICB8IEVudHJ5RXhpdEFuaW1hdGlvbkZ1bmN0aW9uXG4gICAgfCBLZXlmcmFtZTtcbiAgc2hhcmVkVHJhbnNpdGlvblRhZz86IHN0cmluZztcbiAgc2hhcmVkVHJhbnNpdGlvblN0eWxlPzogU2hhcmVkVHJhbnNpdGlvbjtcbn07XG5cbnR5cGUgT3B0aW9uczxQPiA9IHtcbiAgc2V0TmF0aXZlUHJvcHM6IChyZWY6IENvbXBvbmVudFJlZiwgcHJvcHM6IFApID0+IHZvaWQ7XG59O1xuXG5pbnRlcmZhY2UgQ29tcG9uZW50UmVmIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgc2V0TmF0aXZlUHJvcHM/OiAocHJvcHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB2b2lkO1xuICBnZXRTY3JvbGxhYmxlTm9kZT86ICgpID0+IENvbXBvbmVudFJlZjtcbiAgZ2V0QW5pbWF0YWJsZVJlZj86ICgpID0+IENvbXBvbmVudFJlZjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbml0aWFsQ29tcG9uZW50UHJvcHMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gIHJlZj86IFJlZjxDb21wb25lbnQ+O1xuICBjb2xsYXBzYWJsZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50PFAgZXh0ZW5kcyBvYmplY3Q+KFxuICBjb21wb25lbnQ6IEZ1bmN0aW9uQ29tcG9uZW50PFA+LFxuICBvcHRpb25zPzogT3B0aW9uczxQPlxuKTogRnVuY3Rpb25Db21wb25lbnQ8QW5pbWF0ZVByb3BzPFA+PjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQ8UCBleHRlbmRzIG9iamVjdD4oXG4gIGNvbXBvbmVudDogQ29tcG9uZW50Q2xhc3M8UD4sXG4gIG9wdGlvbnM/OiBPcHRpb25zPFA+XG4pOiBDb21wb25lbnRDbGFzczxBbmltYXRlUHJvcHM8UD4+O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVBbmltYXRlZENvbXBvbmVudChcbiAgQ29tcG9uZW50OiBDb21wb25lbnRUeXBlPEluaXRpYWxDb21wb25lbnRQcm9wcz4sXG4gIG9wdGlvbnM/OiBPcHRpb25zPEluaXRpYWxDb21wb25lbnRQcm9wcz5cbik6IGFueSB7XG4gIGludmFyaWFudChcbiAgICB0eXBlb2YgQ29tcG9uZW50ICE9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAoQ29tcG9uZW50LnByb3RvdHlwZSAmJiBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpLFxuICAgIGBMb29rcyBsaWtlIHlvdSdyZSBwYXNzaW5nIGEgZnVuY3Rpb24gY29tcG9uZW50IFxcYCR7Q29tcG9uZW50Lm5hbWV9XFxgIHRvIFxcYGNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50XFxgIGZ1bmN0aW9uIHdoaWNoIHN1cHBvcnRzIG9ubHkgY2xhc3MgY29tcG9uZW50cy4gUGxlYXNlIHdyYXAgeW91ciBmdW5jdGlvbiBjb21wb25lbnQgd2l0aCBcXGBSZWFjdC5mb3J3YXJkUmVmKClcXGAgb3IgdXNlIGEgY2xhc3MgY29tcG9uZW50IGluc3RlYWQuYFxuICApO1xuXG4gIGNsYXNzIEFuaW1hdGVkQ29tcG9uZW50IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFxuICAgIEFuaW1hdGVkQ29tcG9uZW50UHJvcHM8SW5pdGlhbENvbXBvbmVudFByb3BzPlxuICA+IHtcbiAgICBfc3R5bGVzOiBTdHlsZVByb3BzW10gfCBudWxsID0gbnVsbDtcbiAgICBfYW5pbWF0ZWRQcm9wcz86IFBhcnRpYWw8QW5pbWF0ZWRDb21wb25lbnRQcm9wczxBbmltYXRlZFByb3BzPj47XG4gICAgX3ZpZXdUYWcgPSAtMTtcbiAgICBfaXNGaXJzdFJlbmRlciA9IHRydWU7XG4gICAgYW5pbWF0ZWRTdHlsZTogeyB2YWx1ZTogU3R5bGVQcm9wcyB9ID0geyB2YWx1ZToge30gfTtcbiAgICBpbml0aWFsU3R5bGUgPSB7fTtcbiAgICBfY29tcG9uZW50OiBDb21wb25lbnRSZWYgfCBudWxsID0gbnVsbDtcbiAgICBfaW5saW5lUHJvcHNWaWV3RGVzY3JpcHRvcnM6IFZpZXdEZXNjcmlwdG9yc1NldCB8IG51bGwgPSBudWxsO1xuICAgIF9pbmxpbmVQcm9wc01hcHBlcklkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICBfaW5saW5lUHJvcHM6IFN0eWxlUHJvcHMgPSB7fTtcbiAgICBfc2hhcmVkRWxlbWVudFRyYW5zaXRpb246IFNoYXJlZFRyYW5zaXRpb24gfCBudWxsID0gbnVsbDtcbiAgICBzdGF0aWMgZGlzcGxheU5hbWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBBbmltYXRlZENvbXBvbmVudFByb3BzPEluaXRpYWxDb21wb25lbnRQcm9wcz4pIHtcbiAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgIGlmIChpc0plc3QoKSkge1xuICAgICAgICB0aGlzLmFuaW1hdGVkU3R5bGUgPSB7IHZhbHVlOiB7fSB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdGhpcy5fZGV0YWNoTmF0aXZlRXZlbnRzKCk7XG4gICAgICB0aGlzLl9kZXRhY2hTdHlsZXMoKTtcbiAgICAgIHRoaXMuX2RldGFjaElubGluZVByb3BzKCk7XG4gICAgICB0aGlzLl9zaGFyZWRFbGVtZW50VHJhbnNpdGlvbj8udW5yZWdpc3RlclRyYW5zaXRpb24odGhpcy5fdmlld1RhZyk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLl9hdHRhY2hOYXRpdmVFdmVudHMoKTtcbiAgICAgIHRoaXMuX2F0dGFjaEFuaW1hdGVkU3R5bGVzKCk7XG4gICAgICB0aGlzLl9hdHRhY2hJbmxpbmVQcm9wcygpO1xuICAgIH1cblxuICAgIF9nZXRFdmVudFZpZXdSZWYoKSB7XG4gICAgICAvLyBNYWtlIHN1cmUgdG8gZ2V0IHRoZSBzY3JvbGxhYmxlIG5vZGUgZm9yIGNvbXBvbmVudHMgdGhhdCBpbXBsZW1lbnRcbiAgICAgIC8vIGBTY3JvbGxSZXNwb25kZXIuTWl4aW5gLlxuICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudD8uZ2V0U2Nyb2xsYWJsZU5vZGVcbiAgICAgICAgPyB0aGlzLl9jb21wb25lbnQuZ2V0U2Nyb2xsYWJsZU5vZGUoKVxuICAgICAgICA6IHRoaXMuX2NvbXBvbmVudDtcbiAgICB9XG5cbiAgICBfYXR0YWNoTmF0aXZlRXZlbnRzKCkge1xuICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuX2dldEV2ZW50Vmlld1JlZigpO1xuICAgICAgbGV0IHZpZXdUYWcgPSBudWxsOyAvLyBXZSBzZXQgaXQgb25seSBpZiBuZWVkZWRcblxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICBjb25zdCBwcm9wID0gdGhpcy5wcm9wc1trZXldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaGFzKCdjdXJyZW50JywgcHJvcCkgJiZcbiAgICAgICAgICBwcm9wLmN1cnJlbnQgaW5zdGFuY2VvZiBXb3JrbGV0RXZlbnRIYW5kbGVyXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICh2aWV3VGFnID09PSBudWxsKSB7XG4gICAgICAgICAgICB2aWV3VGFnID0gZmluZE5vZGVIYW5kbGUob3B0aW9ucz8uc2V0TmF0aXZlUHJvcHMgPyB0aGlzIDogbm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByb3AuY3VycmVudC5yZWdpc3RlckZvckV2ZW50cyh2aWV3VGFnIGFzIG51bWJlciwga2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9kZXRhY2hOYXRpdmVFdmVudHMoKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnByb3BzKSB7XG4gICAgICAgIGNvbnN0IHByb3AgPSB0aGlzLnByb3BzW2tleV07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBoYXMoJ2N1cnJlbnQnLCBwcm9wKSAmJlxuICAgICAgICAgIHByb3AuY3VycmVudCBpbnN0YW5jZW9mIFdvcmtsZXRFdmVudEhhbmRsZXJcbiAgICAgICAgKSB7XG4gICAgICAgICAgcHJvcC5jdXJyZW50LnVucmVnaXN0ZXJGcm9tRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBfZGV0YWNoU3R5bGVzKCkge1xuICAgICAgaWYgKGlzV2ViKCkgJiYgdGhpcy5fc3R5bGVzICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc3R5bGUgb2YgdGhpcy5fc3R5bGVzKSB7XG4gICAgICAgICAgaWYgKHN0eWxlPy52aWV3c1JlZikge1xuICAgICAgICAgICAgc3R5bGUudmlld3NSZWYucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl92aWV3VGFnICE9PSAtMSAmJiB0aGlzLl9zdHlsZXMgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChjb25zdCBzdHlsZSBvZiB0aGlzLl9zdHlsZXMpIHtcbiAgICAgICAgICBzdHlsZS52aWV3RGVzY3JpcHRvcnMucmVtb3ZlKHRoaXMuX3ZpZXdUYWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmFuaW1hdGVkUHJvcHM/LnZpZXdEZXNjcmlwdG9ycykge1xuICAgICAgICAgIHRoaXMucHJvcHMuYW5pbWF0ZWRQcm9wcy52aWV3RGVzY3JpcHRvcnMucmVtb3ZlKHRoaXMuX3ZpZXdUYWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbG9iYWwuX0lTX0ZBQlJJQykge1xuICAgICAgICAgIHJlbW92ZUZyb21Qcm9wc1JlZ2lzdHJ5KHRoaXMuX3ZpZXdUYWcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3JlYXR0YWNoTmF0aXZlRXZlbnRzKFxuICAgICAgcHJldlByb3BzOiBBbmltYXRlZENvbXBvbmVudFByb3BzPEluaXRpYWxDb21wb25lbnRQcm9wcz5cbiAgICApIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByZXZQcm9wcykge1xuICAgICAgICBjb25zdCBwcm9wID0gdGhpcy5wcm9wc1trZXldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaGFzKCdjdXJyZW50JywgcHJvcCkgJiZcbiAgICAgICAgICBwcm9wLmN1cnJlbnQgaW5zdGFuY2VvZiBXb3JrbGV0RXZlbnRIYW5kbGVyICYmXG4gICAgICAgICAgcHJvcC5jdXJyZW50LnJlYXR0YWNoTmVlZGVkXG4gICAgICAgICkge1xuICAgICAgICAgIHByb3AuY3VycmVudC51bnJlZ2lzdGVyRnJvbUV2ZW50cygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCB2aWV3VGFnID0gbnVsbDtcblxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICBjb25zdCBwcm9wID0gdGhpcy5wcm9wc1trZXldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaGFzKCdjdXJyZW50JywgcHJvcCkgJiZcbiAgICAgICAgICBwcm9wLmN1cnJlbnQgaW5zdGFuY2VvZiBXb3JrbGV0RXZlbnRIYW5kbGVyICYmXG4gICAgICAgICAgcHJvcC5jdXJyZW50LnJlYXR0YWNoTmVlZGVkXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICh2aWV3VGFnID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5fZ2V0RXZlbnRWaWV3UmVmKCk7XG4gICAgICAgICAgICB2aWV3VGFnID0gZmluZE5vZGVIYW5kbGUob3B0aW9ucz8uc2V0TmF0aXZlUHJvcHMgPyB0aGlzIDogbm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByb3AuY3VycmVudC5yZWdpc3RlckZvckV2ZW50cyh2aWV3VGFnIGFzIG51bWJlciwga2V5KTtcbiAgICAgICAgICBwcm9wLmN1cnJlbnQucmVhdHRhY2hOZWVkZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVGcm9tTmF0aXZlKHByb3BzOiBTdHlsZVByb3BzKSB7XG4gICAgICBpZiAob3B0aW9ucz8uc2V0TmF0aXZlUHJvcHMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgb3B0aW9ucy5zZXROYXRpdmVQcm9wcyh0aGlzLl9jb21wb25lbnQhLCBwcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudD8uc2V0TmF0aXZlUHJvcHM/Lihwcm9wcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2dldFZpZXdJbmZvKCkge1xuICAgICAgbGV0IHZpZXdUYWc6IG51bWJlciB8IG51bGw7XG4gICAgICBsZXQgdmlld05hbWU6IHN0cmluZyB8IG51bGw7XG4gICAgICBsZXQgc2hhZG93Tm9kZVdyYXBwZXI6IFNoYWRvd05vZGVXcmFwcGVyIHwgbnVsbCA9IG51bGw7XG4gICAgICBsZXQgdmlld0NvbmZpZztcbiAgICAgIC8vIENvbXBvbmVudCBjYW4gc3BlY2lmeSByZWYgd2hpY2ggc2hvdWxkIGJlIGFuaW1hdGVkIHdoZW4gYW5pbWF0ZWQgdmVyc2lvbiBvZiB0aGUgY29tcG9uZW50IGlzIGNyZWF0ZWQuXG4gICAgICAvLyBPdGhlcndpc2UsIHdlIGFuaW1hdGUgdGhlIGNvbXBvbmVudCBpdHNlbGYuXG4gICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLl9jb21wb25lbnQ/LmdldEFuaW1hdGFibGVSZWZcbiAgICAgICAgPyB0aGlzLl9jb21wb25lbnQuZ2V0QW5pbWF0YWJsZVJlZigpXG4gICAgICAgIDogdGhpcztcbiAgICAgIGlmIChpc1dlYigpKSB7XG4gICAgICAgIHZpZXdUYWcgPSBmaW5kTm9kZUhhbmRsZShjb21wb25lbnQpO1xuICAgICAgICB2aWV3TmFtZSA9IG51bGw7XG4gICAgICAgIHNoYWRvd05vZGVXcmFwcGVyID0gbnVsbDtcbiAgICAgICAgdmlld0NvbmZpZyA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBob3N0SW5zdGFuY2UgY2FuIGJlIG51bGwgZm9yIGEgY29tcG9uZW50IHRoYXQgZG9lc24ndCByZW5kZXIgYW55dGhpbmcgKHJlbmRlciBmdW5jdGlvbiByZXR1cm5zIG51bGwpLiBFeGFtcGxlOiBzdmcgU3RvcDogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LW5hdGl2ZS1zdmcvcmVhY3QtbmF0aXZlLXN2Zy9ibG9iL2RldmVsb3Avc3JjL2VsZW1lbnRzL1N0b3AudHN4XG4gICAgICAgIGNvbnN0IGhvc3RJbnN0YW5jZSA9IFJOUmVuZGVyZXIuZmluZEhvc3RJbnN0YW5jZV9ERVBSRUNBVEVEKGNvbXBvbmVudCk7XG4gICAgICAgIGlmICghaG9zdEluc3RhbmNlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0Nhbm5vdCBmaW5kIGhvc3QgaW5zdGFuY2UgZm9yIHRoaXMgY29tcG9uZW50LiBNYXliZSBpdCByZW5kZXJzIG5vdGhpbmc/J1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgY2FuIGFjY2VzcyB2aWV3IHRhZyBpbiB0aGUgc2FtZSB3YXkgaXQncyBhY2Nlc3NlZCBoZXJlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL2UzZjRlYjcyNzJkNGNhMGVlNDlmMjc1NzcxNTZiNTdlZWIwN2NmNzMvcGFja2FnZXMvcmVhY3QtbmF0aXZlLXJlbmRlcmVyL3NyYy9SZWFjdEZhYnJpYy5qcyNMMTQ2XG4gICAgICAgIHZpZXdUYWcgPSBob3N0SW5zdGFuY2U/Ll9uYXRpdmVUYWc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSTiB1c2VzIHZpZXdDb25maWcgZm9yIGNvbXBvbmVudHMgZm9yIHN0b3JpbmcgZGlmZmVyZW50IHByb3BlcnRpZXMgb2YgdGhlIGNvbXBvbmVudChleGFtcGxlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL2Jsb2IvbWFzdGVyL0xpYnJhcmllcy9Db21wb25lbnRzL1Njcm9sbFZpZXcvU2Nyb2xsVmlld1ZpZXdDb25maWcuanMjTDE2KS5cbiAgICAgICAgICogVGhlIG5hbWUgd2UncmUgbG9va2luZyBmb3IgaXMgaW4gdGhlIGZpZWxkIG5hbWVkIHVpVmlld0NsYXNzTmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIHZpZXdOYW1lID0gaG9zdEluc3RhbmNlPy52aWV3Q29uZmlnPy51aVZpZXdDbGFzc05hbWU7XG5cbiAgICAgICAgdmlld0NvbmZpZyA9IGhvc3RJbnN0YW5jZT8udmlld0NvbmZpZztcblxuICAgICAgICBpZiAoZ2xvYmFsLl9JU19GQUJSSUMpIHtcbiAgICAgICAgICBzaGFkb3dOb2RlV3JhcHBlciA9IGdldFNoYWRvd05vZGVXcmFwcGVyRnJvbVJlZih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgdmlld1RhZywgdmlld05hbWUsIHNoYWRvd05vZGVXcmFwcGVyLCB2aWV3Q29uZmlnIH07XG4gICAgfVxuXG4gICAgX2F0dGFjaEFuaW1hdGVkU3R5bGVzKCkge1xuICAgICAgY29uc3Qgc3R5bGVzID0gdGhpcy5wcm9wcy5zdHlsZVxuICAgICAgICA/IG9ubHlBbmltYXRlZFN0eWxlcyhmbGF0dGVuQXJyYXk8U3R5bGVQcm9wcz4odGhpcy5wcm9wcy5zdHlsZSkpXG4gICAgICAgIDogW107XG4gICAgICBjb25zdCBwcmV2U3R5bGVzID0gdGhpcy5fc3R5bGVzO1xuICAgICAgdGhpcy5fc3R5bGVzID0gc3R5bGVzO1xuXG4gICAgICBjb25zdCBwcmV2QW5pbWF0ZWRQcm9wcyA9IHRoaXMuX2FuaW1hdGVkUHJvcHM7XG4gICAgICB0aGlzLl9hbmltYXRlZFByb3BzID0gdGhpcy5wcm9wcy5hbmltYXRlZFByb3BzO1xuXG4gICAgICBjb25zdCB7IHZpZXdUYWcsIHZpZXdOYW1lLCBzaGFkb3dOb2RlV3JhcHBlciwgdmlld0NvbmZpZyB9ID1cbiAgICAgICAgdGhpcy5fZ2V0Vmlld0luZm8oKTtcblxuICAgICAgLy8gdXBkYXRlIFVJIHByb3BzIHdoaXRlbGlzdCBmb3IgdGhpcyB2aWV3XG4gICAgICBjb25zdCBoYXNSZWFuaW1hdGVkMlByb3BzID1cbiAgICAgICAgdGhpcy5wcm9wcy5hbmltYXRlZFByb3BzPy52aWV3RGVzY3JpcHRvcnMgfHwgc3R5bGVzLmxlbmd0aDtcbiAgICAgIGlmIChoYXNSZWFuaW1hdGVkMlByb3BzICYmIHZpZXdDb25maWcpIHtcbiAgICAgICAgYWRhcHRWaWV3Q29uZmlnKHZpZXdDb25maWcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl92aWV3VGFnID0gdmlld1RhZyBhcyBudW1iZXI7XG5cbiAgICAgIC8vIHJlbW92ZSBvbGQgc3R5bGVzXG4gICAgICBpZiAocHJldlN0eWxlcykge1xuICAgICAgICAvLyBpbiBtb3N0IG9mIHRoZSBjYXNlcywgdmlld3MgaGF2ZSBvbmx5IGEgc2luZ2xlIGFuaW1hdGVkIHN0eWxlIGFuZCBpdCByZW1haW5zIHVuY2hhbmdlZFxuICAgICAgICBjb25zdCBoYXNPbmVTYW1lU3R5bGUgPVxuICAgICAgICAgIHN0eWxlcy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICBwcmV2U3R5bGVzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgIGlzU2FtZUFuaW1hdGVkU3R5bGUoc3R5bGVzWzBdLCBwcmV2U3R5bGVzWzBdKTtcblxuICAgICAgICBpZiAoIWhhc09uZVNhbWVTdHlsZSkge1xuICAgICAgICAgIC8vIG90aGVyd2lzZSwgcmVtb3ZlIGVhY2ggc3R5bGUgdGhhdCBpcyBub3QgcHJlc2VudCBpbiBuZXcgc3R5bGVzXG4gICAgICAgICAgZm9yIChjb25zdCBwcmV2U3R5bGUgb2YgcHJldlN0eWxlcykge1xuICAgICAgICAgICAgY29uc3QgaXNQcmVzZW50ID0gc3R5bGVzLnNvbWUoKHN0eWxlKSA9PlxuICAgICAgICAgICAgICBpc1NhbWVBbmltYXRlZFN0eWxlKHN0eWxlLCBwcmV2U3R5bGUpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCFpc1ByZXNlbnQpIHtcbiAgICAgICAgICAgICAgcHJldlN0eWxlLnZpZXdEZXNjcmlwdG9ycy5yZW1vdmUodmlld1RhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN0eWxlcy5mb3JFYWNoKChzdHlsZSkgPT4ge1xuICAgICAgICBzdHlsZS52aWV3RGVzY3JpcHRvcnMuYWRkKHtcbiAgICAgICAgICB0YWc6IHZpZXdUYWcsXG4gICAgICAgICAgbmFtZTogdmlld05hbWUsXG4gICAgICAgICAgc2hhZG93Tm9kZVdyYXBwZXIsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNKZXN0KCkpIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBXZSBuZWVkIHRvIGNvbm5lY3QgSmVzdCdzIFRlc3RPYmplY3QgaW5zdGFuY2Ugd2hvc2UgY29udGFpbnMganVzdCBwcm9wcyBvYmplY3RcbiAgICAgICAgICAgKiB3aXRoIHRoZSB1cGRhdGVQcm9wcygpIGZ1bmN0aW9uIHdoZXJlIHdlIHVwZGF0ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgY29tcG9uZW50LlxuICAgICAgICAgICAqIFdlIGNhbid0IHVwZGF0ZSBwcm9wcyBvYmplY3QgZGlyZWN0bHkgYmVjYXVzZSBUZXN0T2JqZWN0IGNvbnRhaW5zIGEgY29weSBvZiBwcm9wcyAtIGxvb2sgYXQgcmVuZGVyIGZ1bmN0aW9uOlxuICAgICAgICAgICAqIGNvbnN0IHByb3BzID0gdGhpcy5fZmlsdGVyTm9uQW5pbWF0ZWRQcm9wcyh0aGlzLnByb3BzKTtcbiAgICAgICAgICAgKi9cbiAgICAgICAgICB0aGlzLmFuaW1hdGVkU3R5bGUudmFsdWUgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmFuaW1hdGVkU3R5bGUudmFsdWUsXG4gICAgICAgICAgICAuLi5zdHlsZS5pbml0aWFsLnZhbHVlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgc3R5bGUuYW5pbWF0ZWRTdHlsZS5jdXJyZW50ID0gdGhpcy5hbmltYXRlZFN0eWxlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gZGV0YWNoIG9sZCBhbmltYXRlZFByb3BzXG4gICAgICBpZiAoXG4gICAgICAgIHByZXZBbmltYXRlZFByb3BzICYmXG4gICAgICAgICFpc1NhbWVBbmltYXRlZFByb3BzKHByZXZBbmltYXRlZFByb3BzLCB0aGlzLnByb3BzLmFuaW1hdGVkUHJvcHMpXG4gICAgICApIHtcbiAgICAgICAgcHJldkFuaW1hdGVkUHJvcHMudmlld0Rlc2NyaXB0b3JzIS5yZW1vdmUodmlld1RhZyBhcyBudW1iZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBhdHRhY2ggYW5pbWF0ZWRQcm9wcyBwcm9wZXJ0eVxuICAgICAgaWYgKHRoaXMucHJvcHMuYW5pbWF0ZWRQcm9wcz8udmlld0Rlc2NyaXB0b3JzKSB7XG4gICAgICAgIHRoaXMucHJvcHMuYW5pbWF0ZWRQcm9wcy52aWV3RGVzY3JpcHRvcnMuYWRkKHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgIHRhZzogdmlld1RhZyEsXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICBuYW1lOiB2aWV3TmFtZSEsXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICBzaGFkb3dOb2RlV3JhcHBlcjogc2hhZG93Tm9kZVdyYXBwZXIhLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfYXR0YWNoSW5saW5lUHJvcHMoKSB7XG4gICAgICBjb25zdCBuZXdJbmxpbmVQcm9wczogUmVjb3JkPHN0cmluZywgYW55PiA9XG4gICAgICAgIGV4dHJhY3RTaGFyZWRWYWx1ZXNNYXBGcm9tUHJvcHModGhpcy5wcm9wcyk7XG4gICAgICBjb25zdCBoYXNDaGFuZ2VkID0gaW5saW5lUHJvcHNIYXNDaGFuZ2VkKFxuICAgICAgICBuZXdJbmxpbmVQcm9wcyxcbiAgICAgICAgdGhpcy5faW5saW5lUHJvcHNcbiAgICAgICk7XG5cbiAgICAgIGlmIChoYXNDaGFuZ2VkKSB7XG4gICAgICAgIGlmICghdGhpcy5faW5saW5lUHJvcHNWaWV3RGVzY3JpcHRvcnMpIHtcbiAgICAgICAgICB0aGlzLl9pbmxpbmVQcm9wc1ZpZXdEZXNjcmlwdG9ycyA9IG1ha2VWaWV3RGVzY3JpcHRvcnNTZXQoKTtcblxuICAgICAgICAgIGNvbnN0IHsgdmlld1RhZywgdmlld05hbWUsIHNoYWRvd05vZGVXcmFwcGVyLCB2aWV3Q29uZmlnIH0gPVxuICAgICAgICAgICAgdGhpcy5fZ2V0Vmlld0luZm8oKTtcblxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdJbmxpbmVQcm9wcykubGVuZ3RoICYmIHZpZXdDb25maWcpIHtcbiAgICAgICAgICAgIGFkYXB0Vmlld0NvbmZpZyh2aWV3Q29uZmlnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLl9pbmxpbmVQcm9wc1ZpZXdEZXNjcmlwdG9ycy5hZGQoe1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIHRhZzogdmlld1RhZyEsXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgbmFtZTogdmlld05hbWUhLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIHNoYWRvd05vZGVXcmFwcGVyOiBzaGFkb3dOb2RlV3JhcHBlciEsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2hhcmFibGVWaWV3RGVzY3JpcHRvcnMgPVxuICAgICAgICAgIHRoaXMuX2lubGluZVByb3BzVmlld0Rlc2NyaXB0b3JzLnNoYXJhYmxlVmlld0Rlc2NyaXB0b3JzO1xuXG4gICAgICAgIGNvbnN0IG1heWJlVmlld1JlZiA9IE5hdGl2ZVJlYW5pbWF0ZWRNb2R1bGUubmF0aXZlXG4gICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICA6ICh7IGl0ZW1zOiBuZXcgU2V0KFt0aGlzXSkgfSBhcyBWaWV3UmVmU2V0PGFueT4pOyAvLyBzZWUgbWFrZVZpZXdzUmVmU2V0XG5cbiAgICAgICAgY29uc3QgdXBkYXRlckZ1bmN0aW9uID0gKCkgPT4ge1xuICAgICAgICAgICd3b3JrbGV0JztcbiAgICAgICAgICBjb25zdCB1cGRhdGUgPSBnZXRJbmxpbmVQcm9wc1VwZGF0ZShuZXdJbmxpbmVQcm9wcyk7XG4gICAgICAgICAgdXBkYXRlUHJvcHMoc2hhcmFibGVWaWV3RGVzY3JpcHRvcnMsIHVwZGF0ZSwgbWF5YmVWaWV3UmVmKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faW5saW5lUHJvcHMgPSBuZXdJbmxpbmVQcm9wcztcbiAgICAgICAgaWYgKHRoaXMuX2lubGluZVByb3BzTWFwcGVySWQpIHtcbiAgICAgICAgICBzdG9wTWFwcGVyKHRoaXMuX2lubGluZVByb3BzTWFwcGVySWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lubGluZVByb3BzTWFwcGVySWQgPSBudWxsO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMobmV3SW5saW5lUHJvcHMpLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuX2lubGluZVByb3BzTWFwcGVySWQgPSBzdGFydE1hcHBlcihcbiAgICAgICAgICAgIHVwZGF0ZXJGdW5jdGlvbixcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMobmV3SW5saW5lUHJvcHMpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9kZXRhY2hJbmxpbmVQcm9wcygpIHtcbiAgICAgIGlmICh0aGlzLl9pbmxpbmVQcm9wc01hcHBlcklkKSB7XG4gICAgICAgIHN0b3BNYXBwZXIodGhpcy5faW5saW5lUHJvcHNNYXBwZXJJZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKFxuICAgICAgcHJldlByb3BzOiBBbmltYXRlZENvbXBvbmVudFByb3BzPEluaXRpYWxDb21wb25lbnRQcm9wcz5cbiAgICApIHtcbiAgICAgIHRoaXMuX3JlYXR0YWNoTmF0aXZlRXZlbnRzKHByZXZQcm9wcyk7XG4gICAgICB0aGlzLl9hdHRhY2hBbmltYXRlZFN0eWxlcygpO1xuICAgICAgdGhpcy5fYXR0YWNoSW5saW5lUHJvcHMoKTtcbiAgICB9XG5cbiAgICBfc2V0Q29tcG9uZW50UmVmID0gc2V0QW5kRm9yd2FyZFJlZjxDb21wb25lbnQ+KHtcbiAgICAgIGdldEZvcndhcmRlZFJlZjogKCkgPT5cbiAgICAgICAgdGhpcy5wcm9wcy5mb3J3YXJkZWRSZWYgYXMgTXV0YWJsZVJlZk9iamVjdDxcbiAgICAgICAgICBDb21wb25lbnQ8UmVjb3JkPHN0cmluZywgdW5rbm93bj4sIFJlY29yZDxzdHJpbmcsIHVua25vd24+LCB1bmtub3duPlxuICAgICAgICA+LFxuICAgICAgc2V0TG9jYWxSZWY6IChyZWYpID0+IHtcbiAgICAgICAgLy8gVE9ETyB1cGRhdGUgY29uZmlnXG4gICAgICAgIGNvbnN0IHRhZyA9IGZpbmROb2RlSGFuZGxlKHJlZik7XG4gICAgICAgIGNvbnN0IHsgbGF5b3V0LCBlbnRlcmluZywgZXhpdGluZywgc2hhcmVkVHJhbnNpdGlvblRhZyB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChsYXlvdXQgfHwgZW50ZXJpbmcgfHwgZXhpdGluZyB8fCBzaGFyZWRUcmFuc2l0aW9uVGFnKSAmJlxuICAgICAgICAgIHRhZyAhPSBudWxsXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICghc2hvdWxkQmVVc2VXZWIoKSkge1xuICAgICAgICAgICAgZW5hYmxlTGF5b3V0QW5pbWF0aW9ucyh0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChsYXlvdXQpIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyZUxheW91dEFuaW1hdGlvbnMoXG4gICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgTGF5b3V0QW5pbWF0aW9uVHlwZS5MQVlPVVQsXG4gICAgICAgICAgICAgIG1heWJlQnVpbGQobGF5b3V0KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVudGVyaW5nKSB7XG4gICAgICAgICAgICBjb25maWd1cmVMYXlvdXRBbmltYXRpb25zKFxuICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgIExheW91dEFuaW1hdGlvblR5cGUuRU5URVJJTkcsXG4gICAgICAgICAgICAgIG1heWJlQnVpbGQoZW50ZXJpbmcpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXhpdGluZykge1xuICAgICAgICAgICAgY29uZmlndXJlTGF5b3V0QW5pbWF0aW9ucyhcbiAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICBMYXlvdXRBbmltYXRpb25UeXBlLkVYSVRJTkcsXG4gICAgICAgICAgICAgIG1heWJlQnVpbGQoZXhpdGluZylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzaGFyZWRUcmFuc2l0aW9uVGFnKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRFbGVtZW50VHJhbnNpdGlvbiA9XG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc2hhcmVkVHJhbnNpdGlvblN0eWxlID8/IG5ldyBTaGFyZWRUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICBzaGFyZWRFbGVtZW50VHJhbnNpdGlvbi5yZWdpc3RlclRyYW5zaXRpb24oXG4gICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgc2hhcmVkVHJhbnNpdGlvblRhZ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuX3NoYXJlZEVsZW1lbnRUcmFuc2l0aW9uID0gc2hhcmVkRWxlbWVudFRyYW5zaXRpb247XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlZiAhPT0gdGhpcy5fY29tcG9uZW50KSB7XG4gICAgICAgICAgdGhpcy5fY29tcG9uZW50ID0gcmVmO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgX2ZpbHRlck5vbkFuaW1hdGVkUHJvcHMoXG4gICAgICBpbnB1dFByb3BzOiBBbmltYXRlZENvbXBvbmVudFByb3BzPEluaXRpYWxDb21wb25lbnRQcm9wcz5cbiAgICApOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB7XG4gICAgICBjb25zdCBwcm9wczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGlucHV0UHJvcHMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbnB1dFByb3BzW2tleV07XG4gICAgICAgIGlmIChrZXkgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICBjb25zdCBzdHlsZVByb3AgPSBpbnB1dFByb3BzLnN0eWxlO1xuICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IGZsYXR0ZW5BcnJheTxTdHlsZVByb3BzPihzdHlsZVByb3AgPz8gW10pO1xuICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZFN0eWxlOiBTdHlsZVByb3BzID0gc3R5bGVzLm1hcCgoc3R5bGUpID0+IHtcbiAgICAgICAgICAgIGlmIChzdHlsZSAmJiBzdHlsZS52aWV3RGVzY3JpcHRvcnMpIHtcbiAgICAgICAgICAgICAgLy8gdGhpcyBpcyBob3cgd2UgcmVjb2duaXplIHN0eWxlcyByZXR1cm5lZCBieSB1c2VBbmltYXRlZFN0eWxlXG4gICAgICAgICAgICAgIHN0eWxlLnZpZXdzUmVmLmFkZCh0aGlzKTtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzRmlyc3RSZW5kZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxTdHlsZSA9IHtcbiAgICAgICAgICAgICAgICAgIC4uLnN0eWxlLmluaXRpYWwudmFsdWUsXG4gICAgICAgICAgICAgICAgICAuLi50aGlzLmluaXRpYWxTdHlsZSxcbiAgICAgICAgICAgICAgICAgIC4uLmluaXRpYWxVcGRhdGVyUnVuPFN0eWxlUHJvcHM+KHN0eWxlLmluaXRpYWwudXBkYXRlciksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsU3R5bGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0lubGluZVN0eWxlcyhzdHlsZSkpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzRmlyc3RSZW5kZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SW5saW5lUHJvcHNVcGRhdGUoc3R5bGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IG5ld1N0eWxlOiBTdHlsZVByb3BzID0ge307XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc3R5bGVWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3R5bGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIWlzU2hhcmVkVmFsdWUoc3R5bGVWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICAgICEoa2V5ID09PSAndHJhbnNmb3JtJyAmJiBpc0lubGluZVN0eWxlVHJhbnNmb3JtKHN0eWxlVmFsdWUpKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgbmV3U3R5bGVba2V5XSA9IHN0eWxlVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBuZXdTdHlsZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwcm9wc1trZXldID0gU3R5bGVTaGVldC5mbGF0dGVuKHByb2Nlc3NlZFN0eWxlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdhbmltYXRlZFByb3BzJykge1xuICAgICAgICAgIGNvbnN0IGFuaW1hdGVkUHJvcCA9IGlucHV0UHJvcHMuYW5pbWF0ZWRQcm9wcyBhcyBQYXJ0aWFsPFxuICAgICAgICAgICAgQW5pbWF0ZWRDb21wb25lbnRQcm9wczxBbmltYXRlZFByb3BzPlxuICAgICAgICAgID47XG4gICAgICAgICAgaWYgKGFuaW1hdGVkUHJvcC5pbml0aWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGFuaW1hdGVkUHJvcC5pbml0aWFsLnZhbHVlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IGFuaW1hdGVkUHJvcC5pbml0aWFsPy52YWx1ZVtrZXldO1xuICAgICAgICAgICAgICBhbmltYXRlZFByb3Audmlld3NSZWY/LmFkZCh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBoYXMoJ2N1cnJlbnQnLCB2YWx1ZSkgJiZcbiAgICAgICAgICB2YWx1ZS5jdXJyZW50IGluc3RhbmNlb2YgV29ya2xldEV2ZW50SGFuZGxlclxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAodmFsdWUuY3VycmVudC5ldmVudE5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhbHVlLmN1cnJlbnQuZXZlbnROYW1lcy5mb3JFYWNoKChldmVudE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgcHJvcHNbZXZlbnROYW1lXSA9IGhhcygnbGlzdGVuZXJzJywgdmFsdWUuY3VycmVudClcbiAgICAgICAgICAgICAgICA/ICh2YWx1ZS5jdXJyZW50Lmxpc3RlbmVycyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIDogZHVtbXlMaXN0ZW5lcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wc1trZXldID0gZHVtbXlMaXN0ZW5lcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTaGFyZWRWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAodGhpcy5faXNGaXJzdFJlbmRlcikge1xuICAgICAgICAgICAgcHJvcHNba2V5XSA9ICh2YWx1ZSBhcyBTaGFyZWRWYWx1ZTxhbnk+KS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAga2V5ICE9PSAnb25HZXN0dXJlSGFuZGxlclN0YXRlQ2hhbmdlJyB8fFxuICAgICAgICAgICFpc0Nocm9tZURlYnVnZ2VyKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcHJvcHNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcHM7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLl9maWx0ZXJOb25BbmltYXRlZFByb3BzKHRoaXMucHJvcHMpO1xuICAgICAgaWYgKGlzSmVzdCgpKSB7XG4gICAgICAgIHByb3BzLmFuaW1hdGVkU3R5bGUgPSB0aGlzLmFuaW1hdGVkU3R5bGU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc0ZpcnN0UmVuZGVyKSB7XG4gICAgICAgIHRoaXMuX2lzRmlyc3RSZW5kZXIgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGxhdGZvcm1Qcm9wcyA9IFBsYXRmb3JtLnNlbGVjdCh7XG4gICAgICAgIHdlYjoge30sXG4gICAgICAgIGRlZmF1bHQ6IHsgY29sbGFwc2FibGU6IGZhbHNlIH0sXG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxDb21wb25lbnQgey4uLnByb3BzfSByZWY9e3RoaXMuX3NldENvbXBvbmVudFJlZn0gey4uLnBsYXRmb3JtUHJvcHN9IC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIEFuaW1hdGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gYEFuaW1hdGVkQ29tcG9uZW50KCR7XG4gICAgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnXG4gIH0pYDtcblxuICByZXR1cm4gUmVhY3QuZm9yd2FyZFJlZjxDb21wb25lbnQ+KChwcm9wcywgcmVmKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBbmltYXRlZENvbXBvbmVudFxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIHsuLi4ocmVmID09PSBudWxsID8gbnVsbCA6IHsgZm9yd2FyZGVkUmVmOiByZWYgfSl9XG4gICAgICAvPlxuICAgICk7XG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFRQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxvQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsaUJBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBQSxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssYUFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sV0FBQSxHQUFBTixPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUCxPQUFBO0FBTUEsSUFBQVEsZ0JBQUEsR0FBQVIsT0FBQTtBQU1BLElBQUFTLFVB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