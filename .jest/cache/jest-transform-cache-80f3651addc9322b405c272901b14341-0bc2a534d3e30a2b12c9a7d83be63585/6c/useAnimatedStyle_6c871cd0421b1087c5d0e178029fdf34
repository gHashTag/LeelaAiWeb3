86123602fb5d84959acd7d5a9c126daf
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useAnimatedStyle = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _react = require("react");
var _core = require("../core");
var _UpdateProps = _interopRequireWildcard(require("../UpdateProps"));
var _animation = require("../animation");
var _NativeReanimated = _interopRequireDefault(require("../NativeReanimated"));
var _useSharedValue = require("./useSharedValue");
var _utils = require("./utils");
var _ViewDescriptorsSet = require("../ViewDescriptorsSet");
var _PlatformChecker = require("../PlatformChecker");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function prepareAnimation(frameTimestamp, animatedProp, lastAnimation, lastValue) {
  'worklet';

  if (Array.isArray(animatedProp)) {
    animatedProp.forEach(function (prop, index) {
      prepareAnimation(frameTimestamp, prop, lastAnimation && lastAnimation[index], lastValue && lastValue[index]);
    });
  }
  if (typeof animatedProp === 'object' && animatedProp.onFrame) {
    var animation = animatedProp;
    var value = animation.current;
    if (lastValue !== undefined) {
      if (typeof lastValue === 'object') {
        if (lastValue.value !== undefined) {
          value = lastValue.value;
        } else if (lastValue.onFrame !== undefined) {
          if ((lastAnimation === null || lastAnimation === void 0 ? void 0 : lastAnimation.current) !== undefined) {
            value = lastAnimation.current;
          } else if ((lastValue === null || lastValue === void 0 ? void 0 : lastValue.current) !== undefined) {
            value = lastValue.current;
          }
        }
      } else {
        value = lastValue;
      }
    }
    animation.callStart = function (timestamp) {
      animation.onStart(animation, value, timestamp, lastAnimation);
    };
    animation.callStart(frameTimestamp);
    animation.callStart = null;
  } else if (typeof animatedProp === 'object') {
    Object.keys(animatedProp).forEach(function (key) {
      return prepareAnimation(frameTimestamp, animatedProp[key], lastAnimation && lastAnimation[key], lastValue && lastValue[key]);
    });
  }
}
function runAnimations(animation, timestamp, key, result, animationsActive) {
  'worklet';

  if (!animationsActive.value) {
    return true;
  }
  if (Array.isArray(animation)) {
    result[key] = [];
    var allFinished = true;
    animation.forEach(function (entry, index) {
      if (!runAnimations(entry, timestamp, index, result[key], animationsActive)) {
        allFinished = false;
      }
    });
    return allFinished;
  } else if (typeof animation === 'object' && animation.onFrame) {
    var finished = true;
    if (!animation.finished) {
      if (animation.callStart) {
        animation.callStart(timestamp);
        animation.callStart = null;
      }
      finished = animation.onFrame(animation, timestamp);
      animation.timestamp = timestamp;
      if (finished) {
        animation.finished = true;
        animation.callback && animation.callback(true);
      }
    }
    result[key] = animation.current;
    return finished;
  } else if (typeof animation === 'object') {
    result[key] = {};
    var _allFinished = true;
    Object.keys(animation).forEach(function (k) {
      if (!runAnimations(animation[k], timestamp, k, result[key], animationsActive)) {
        _allFinished = false;
      }
    });
    return _allFinished;
  } else {
    result[key] = animation;
    return true;
  }
}
function styleUpdater(viewDescriptors, updater, state, maybeViewRef, animationsActive) {
  'worklet';

  var _state$animations, _updater;
  var animations = (_state$animations = state.animations) != null ? _state$animations : {};
  var newValues = (_updater = updater()) != null ? _updater : {};
  var oldValues = state.last;
  var nonAnimatedNewValues = {};
  var hasAnimations = false;
  var frameTimestamp;
  var hasNonAnimatedValues = false;
  for (var key in newValues) {
    var value = newValues[key];
    if ((0, _utils.isAnimated)(value)) {
      frameTimestamp = global.__frameTimestamp || performance.now();
      prepareAnimation(frameTimestamp, value, animations[key], oldValues[key]);
      animations[key] = value;
      hasAnimations = true;
    } else {
      hasNonAnimatedValues = true;
      nonAnimatedNewValues[key] = value;
      delete animations[key];
    }
  }
  if (hasAnimations) {
    var frame = function frame(timestamp) {
      var animations = state.animations,
        last = state.last,
        isAnimationCancelled = state.isAnimationCancelled;
      if (isAnimationCancelled) {
        state.isAnimationRunning = false;
        return;
      }
      var updates = {};
      var allFinished = true;
      for (var propName in animations) {
        var finished = runAnimations(animations[propName], timestamp, propName, updates, animationsActive);
        if (finished) {
          last[propName] = updates[propName];
          delete animations[propName];
        } else {
          allFinished = false;
        }
      }
      if (updates) {
        (0, _UpdateProps.default)(viewDescriptors, updates, maybeViewRef);
      }
      if (!allFinished) {
        requestAnimationFrame(frame);
      } else {
        state.isAnimationRunning = false;
      }
    };
    state.animations = animations;
    if (!state.isAnimationRunning) {
      state.isAnimationCancelled = false;
      state.isAnimationRunning = true;
      frame(frameTimestamp);
    }
    if (hasNonAnimatedValues) {
      (0, _UpdateProps.default)(viewDescriptors, nonAnimatedNewValues, maybeViewRef);
    }
  } else {
    state.isAnimationCancelled = true;
    state.animations = [];
    if (!(0, _utils.shallowEqual)(oldValues, newValues)) {
      (0, _UpdateProps.default)(viewDescriptors, newValues, maybeViewRef);
    }
  }
  state.last = newValues;
}
function jestStyleUpdater(viewDescriptors, updater, state, maybeViewRef, animationsActive, animatedStyle) {
  'worklet';

  var _state$animations2, _updater2;
  var adapters = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : [];
  var animations = (_state$animations2 = state.animations) != null ? _state$animations2 : {};
  var newValues = (_updater2 = updater()) != null ? _updater2 : {};
  var oldValues = state.last;
  var hasAnimations = false;
  var frameTimestamp;
  Object.keys(animations).forEach(function (key) {
    var value = newValues[key];
    if (!(0, _utils.isAnimated)(value)) {
      delete animations[key];
    }
  });
  Object.keys(newValues).forEach(function (key) {
    var value = newValues[key];
    if ((0, _utils.isAnimated)(value)) {
      frameTimestamp = global.__frameTimestamp || performance.now();
      prepareAnimation(frameTimestamp, value, animations[key], oldValues[key]);
      animations[key] = value;
      hasAnimations = true;
    }
  });
  function frame(timestamp) {
    var animations = state.animations,
      last = state.last,
      isAnimationCancelled = state.isAnimationCancelled;
    if (isAnimationCancelled) {
      state.isAnimationRunning = false;
      return;
    }
    var updates = {};
    var allFinished = true;
    Object.keys(animations).forEach(function (propName) {
      var finished = runAnimations(animations[propName], timestamp, propName, updates, animationsActive);
      if (finished) {
        last[propName] = updates[propName];
        delete animations[propName];
      } else {
        allFinished = false;
      }
    });
    if (Object.keys(updates).length) {
      (0, _UpdateProps.updatePropsJestWrapper)(viewDescriptors, updates, maybeViewRef, animatedStyle, adapters);
    }
    if (!allFinished) {
      requestAnimationFrame(frame);
    } else {
      state.isAnimationRunning = false;
    }
  }
  if (hasAnimations) {
    state.animations = animations;
    if (!state.isAnimationRunning) {
      state.isAnimationCancelled = false;
      state.isAnimationRunning = true;
      frame(frameTimestamp);
    }
  } else {
    state.isAnimationCancelled = true;
    state.animations = [];
  }
  state.last = newValues;
  if (!(0, _utils.shallowEqual)(oldValues, newValues)) {
    (0, _UpdateProps.updatePropsJestWrapper)(viewDescriptors, newValues, maybeViewRef, animatedStyle, adapters);
  }
}
function checkSharedValueUsage(prop, currentKey) {
  if (Array.isArray(prop)) {
    for (var element of prop) {
      checkSharedValueUsage(element, currentKey);
    }
  } else if (typeof prop === 'object' && prop !== null && prop.value === undefined) {
    for (var key of Object.keys(prop)) {
      checkSharedValueUsage(prop[key], key);
    }
  } else if (currentKey !== undefined && typeof prop === 'object' && prop !== null && prop.value !== undefined) {
    throw new Error(`invalid value passed to \`${currentKey}\`, maybe you forgot to use \`.value\`?`);
  }
}
var useAnimatedStyle = function useAnimatedStyle(updater, dependencies, adapters) {
  var _updater$_closure;
  var viewsRef = (0, _ViewDescriptorsSet.makeViewsRefSet)();
  var initRef = (0, _react.useRef)();
  var inputs = Object.values((_updater$_closure = updater._closure) != null ? _updater$_closure : {});
  if ((0, _PlatformChecker.shouldBeUseWeb)()) {
    var _dependencies;
    if (!inputs.length && (_dependencies = dependencies) !== null && _dependencies !== void 0 && _dependencies.length) {
      inputs = dependencies;
    }
    if (__DEV__ && !inputs.length && !dependencies && !updater.__workletHash) {
      throw new Error(`useAnimatedStyle was used without a dependency array or Babel plugin. Please explicitly pass a dependency array, or enable the Babel/SWC plugin.

For more, see the docs: https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/web-support#web-without-a-babel-plugin`);
    }
  }
  var adaptersArray = adapters ? Array.isArray(adapters) ? adapters : [adapters] : [];
  var adaptersHash = adapters ? (0, _utils.buildWorkletsHash)(adaptersArray) : null;
  var animationsActive = (0, _useSharedValue.useSharedValue)(true);
  var animatedStyle = (0, _react.useRef)({});
  if (!dependencies) {
    dependencies = [].concat((0, _toConsumableArray2.default)(inputs), [updater.__workletHash]);
  } else {
    dependencies.push(updater.__workletHash);
  }
  adaptersHash && dependencies.push(adaptersHash);
  if (!initRef.current) {
    var initialStyle = (0, _animation.initialUpdaterRun)(updater);
    (0, _utils.validateAnimatedStyles)(initialStyle);
    initRef.current = {
      initial: {
        value: initialStyle,
        updater: updater
      },
      remoteState: (0, _core.makeRemote)({
        last: initialStyle,
        animations: {},
        isAnimationCancelled: false,
        isAnimationRunning: false
      }),
      viewDescriptors: (0, _ViewDescriptorsSet.makeViewDescriptorsSet)()
    };
  }
  var _initRef$current = initRef.current,
    initial = _initRef$current.initial,
    remoteState = _initRef$current.remoteState,
    viewDescriptors = _initRef$current.viewDescriptors;
  var sharableViewDescriptors = viewDescriptors.sharableViewDescriptors;
  var maybeViewRef = _NativeReanimated.default.native ? undefined : viewsRef;
  dependencies.push(sharableViewDescriptors);
  (0, _react.useEffect)(function () {
    var fun;
    var updaterFn = updater;
    if (adapters) {
      updaterFn = function updaterFn() {
        'worklet';

        var newValues = updater();
        adaptersArray.forEach(function (adapter) {
          adapter(newValues);
        });
        return newValues;
      };
    }
    if ((0, _PlatformChecker.isJest)()) {
      fun = function fun() {
        'worklet';

        jestStyleUpdater(sharableViewDescriptors, updater, remoteState, maybeViewRef, animationsActive, animatedStyle, adaptersArray);
      };
    } else {
      fun = function fun() {
        'worklet';

        styleUpdater(sharableViewDescriptors, updaterFn, remoteState, maybeViewRef, animationsActive);
      };
    }
    var mapperId = (0, _core.startMapper)(fun, inputs);
    return function () {
      (0, _core.stopMapper)(mapperId);
    };
  }, dependencies);
  (0, _react.useEffect)(function () {
    animationsActive.value = true;
    return function () {
      animationsActive.value = false;
    };
  }, []);
  checkSharedValueUsage(initial.value);
  if ((0, _PlatformChecker.isJest)()) {
    return {
      viewDescriptors: viewDescriptors,
      initial: initial,
      viewsRef: viewsRef,
      animatedStyle: animatedStyle
    };
  } else {
    return {
      viewDescriptors: viewDescriptors,
      initial: initial,
      viewsRef: viewsRef
    };
  }
};
exports.useAnimatedStyle = useAnimatedStyle;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiX2NvcmUiLCJfVXBkYXRlUHJvcHMiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9hbmltYXRpb24iLCJfTmF0aXZlUmVhbmltYXRlZCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfdXNlU2hhcmVkVmFsdWUiLCJfdXRpbHMiLCJfVmlld0Rlc2NyaXB0b3JzU2V0IiwiX1BsYXRmb3JtQ2hlY2tlciIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2FjaGUiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJwcmVwYXJlQW5pbWF0aW9uIiwiZnJhbWVUaW1lc3RhbXAiLCJhbmltYXRlZFByb3AiLCJsYXN0QW5pbWF0aW9uIiwibGFzdFZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwiZm9yRWFjaCIsInByb3AiLCJpbmRleCIsIm9uRnJhbWUiLCJhbmltYXRpb24iLCJ2YWx1ZSIsImN1cnJlbnQiLCJ1bmRlZmluZWQiLCJjYWxsU3RhcnQiLCJ0aW1lc3RhbXAiLCJvblN0YXJ0Iiwia2V5cyIsInJ1bkFuaW1hdGlvbnMiLCJyZXN1bHQiLCJhbmltYXRpb25zQWN0aXZlIiwiYWxsRmluaXNoZWQiLCJlbnRyeSIsImZpbmlzaGVkIiwiY2FsbGJhY2siLCJrIiwic3R5bGVVcGRhdGVyIiwidmlld0Rlc2NyaXB0b3JzIiwidXBkYXRlciIsInN0YXRlIiwibWF5YmVWaWV3UmVmIiwiX3N0YXRlJGFuaW1hdGlvbnMiLCJfdXBkYXRlciIsImFuaW1hdGlvbnMiLCJuZXdWYWx1ZXMiLCJvbGRWYWx1ZXMiLCJsYXN0Iiwibm9uQW5pbWF0ZWROZXdWYWx1ZXMiLCJoYXNBbmltYXRpb25zIiwiaGFzTm9uQW5pbWF0ZWRWYWx1ZXMiLCJpc0FuaW1hdGVkIiwiZ2xvYmFsIiwiX19mcmFtZVRpbWVzdGFtcCIsInBlcmZvcm1hbmNlIiwibm93IiwiZnJhbWUiLCJpc0FuaW1hdGlvbkNhbmNlbGxlZCIsImlzQW5pbWF0aW9uUnVubmluZyIsInVwZGF0ZXMiLCJwcm9wTmFtZSIsInVwZGF0ZVByb3BzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2hhbGxvd0VxdWFsIiwiamVzdFN0eWxlVXBkYXRlciIsImFuaW1hdGVkU3R5bGUiLCJfc3RhdGUkYW5pbWF0aW9uczIiLCJfdXBkYXRlcjIiLCJhZGFwdGVycyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVwZGF0ZVByb3BzSmVzdFdyYXBwZXIiLCJjaGVja1NoYXJlZFZhbHVlVXNhZ2UiLCJjdXJyZW50S2V5IiwiZWxlbWVudCIsIkVycm9yIiwidXNlQW5pbWF0ZWRTdHlsZSIsImRlcGVuZGVuY2llcyIsIl91cGRhdGVyJF9jbG9zdXJlIiwidmlld3NSZWYiLCJtYWtlVmlld3NSZWZTZXQiLCJpbml0UmVmIiwidXNlUmVmIiwiaW5wdXRzIiwidmFsdWVzIiwiX2Nsb3N1cmUiLCJzaG91bGRCZVVzZVdlYiIsIl9kZXBlbmRlbmNpZXMiLCJfX0RFVl9fIiwiX193b3JrbGV0SGFzaCIsImFkYXB0ZXJzQXJyYXkiLCJhZGFwdGVyc0hhc2giLCJidWlsZFdvcmtsZXRzSGFzaCIsInVzZVNoYXJlZFZhbHVlIiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsInB1c2giLCJpbml0aWFsU3R5bGUiLCJpbml0aWFsVXBkYXRlclJ1biIsInZhbGlkYXRlQW5pbWF0ZWRTdHlsZXMiLCJpbml0aWFsIiwicmVtb3RlU3RhdGUiLCJtYWtlUmVtb3RlIiwibWFrZVZpZXdEZXNjcmlwdG9yc1NldCIsIl9pbml0UmVmJGN1cnJlbnQiLCJzaGFyYWJsZVZpZXdEZXNjcmlwdG9ycyIsIk5hdGl2ZVJlYW5pbWF0ZWRNb2R1bGUiLCJuYXRpdmUiLCJ1c2VFZmZlY3QiLCJmdW4iLCJ1cGRhdGVyRm4iLCJhZGFwdGVyIiwiaXNKZXN0IiwibWFwcGVySWQiLCJzdGFydE1hcHBlciIsInN0b3BNYXBwZXIiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidXNlQW5pbWF0ZWRTdHlsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE11dGFibGVSZWZPYmplY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgc3RhcnRNYXBwZXIsIHN0b3BNYXBwZXIsIG1ha2VSZW1vdGUgfSBmcm9tICcuLi9jb3JlJztcbmltcG9ydCB1cGRhdGVQcm9wcywgeyB1cGRhdGVQcm9wc0plc3RXcmFwcGVyIH0gZnJvbSAnLi4vVXBkYXRlUHJvcHMnO1xuaW1wb3J0IHsgaW5pdGlhbFVwZGF0ZXJSdW4gfSBmcm9tICcuLi9hbmltYXRpb24nO1xuaW1wb3J0IE5hdGl2ZVJlYW5pbWF0ZWRNb2R1bGUgZnJvbSAnLi4vTmF0aXZlUmVhbmltYXRlZCc7XG5pbXBvcnQgeyB1c2VTaGFyZWRWYWx1ZSB9IGZyb20gJy4vdXNlU2hhcmVkVmFsdWUnO1xuaW1wb3J0IHtcbiAgYnVpbGRXb3JrbGV0c0hhc2gsXG4gIGlzQW5pbWF0ZWQsXG4gIHNoYWxsb3dFcXVhbCxcbiAgdmFsaWRhdGVBbmltYXRlZFN0eWxlcyxcbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgdHlwZSB7IERlcGVuZGVuY3lMaXN0LCBEZXNjcmlwdG9yIH0gZnJvbSAnLi9jb21tb25UeXBlcyc7XG5pbXBvcnQgdHlwZSB7IFZpZXdEZXNjcmlwdG9yc1NldCwgVmlld1JlZlNldCB9IGZyb20gJy4uL1ZpZXdEZXNjcmlwdG9yc1NldCc7XG5pbXBvcnQgeyBtYWtlVmlld0Rlc2NyaXB0b3JzU2V0LCBtYWtlVmlld3NSZWZTZXQgfSBmcm9tICcuLi9WaWV3RGVzY3JpcHRvcnNTZXQnO1xuaW1wb3J0IHsgaXNKZXN0LCBzaG91bGRCZVVzZVdlYiB9IGZyb20gJy4uL1BsYXRmb3JtQ2hlY2tlcic7XG5pbXBvcnQgdHlwZSB7XG4gIEFuaW1hdGlvbk9iamVjdCxcbiAgVGltZXN0YW1wLFxuICBBZGFwdGVyV29ya2xldEZ1bmN0aW9uLFxuICBBbmltYXRlZFN0eWxlLFxuICBCYXNpY1dvcmtsZXRGdW5jdGlvbixcbiAgQmFzaWNXb3JrbGV0RnVuY3Rpb25PcHRpb25hbCxcbiAgTmVzdGVkT2JqZWN0VmFsdWVzLFxuICBTaGFyZWRWYWx1ZSxcbiAgU3R5bGVQcm9wcyxcbn0gZnJvbSAnLi4vY29tbW9uVHlwZXMnO1xuaW1wb3J0IHR5cGUge1xuICBJbWFnZVN0eWxlLFxuICBSZWdpc3RlcmVkU3R5bGUsXG4gIFRleHRTdHlsZSxcbiAgVmlld1N0eWxlLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHR5cGUgeyBBbmltYXRlU3R5bGUgfSBmcm9tICcuLi9oZWxwZXJUeXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5pbWF0ZWRTdHlsZVJlc3VsdCB7XG4gIHZpZXdEZXNjcmlwdG9yczogVmlld0Rlc2NyaXB0b3JzU2V0O1xuICBpbml0aWFsOiBBbmltYXRlZFN0eWxlO1xuICB2aWV3c1JlZjogVmlld1JlZlNldDxhbnk+O1xuICBhbmltYXRlZFN0eWxlPzogTXV0YWJsZVJlZk9iamVjdDxBbmltYXRlZFN0eWxlPjtcbn1cblxuaW50ZXJmYWNlIEFuaW1hdGVkU3RhdGUge1xuICBsYXN0OiBBbmltYXRlZFN0eWxlO1xuICBhbmltYXRpb25zOiBBbmltYXRlZFN0eWxlO1xuICBpc0FuaW1hdGlvblJ1bm5pbmc6IGJvb2xlYW47XG4gIGlzQW5pbWF0aW9uQ2FuY2VsbGVkOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgQW5pbWF0aW9uUmVmIHtcbiAgaW5pdGlhbDoge1xuICAgIHZhbHVlOiBBbmltYXRlZFN0eWxlO1xuICAgIHVwZGF0ZXI6ICgpID0+IEFuaW1hdGVkU3R5bGU7XG4gIH07XG4gIHJlbW90ZVN0YXRlOiBBbmltYXRlZFN0YXRlO1xuICB2aWV3RGVzY3JpcHRvcnM6IFZpZXdEZXNjcmlwdG9yc1NldDtcbn1cblxuZnVuY3Rpb24gcHJlcGFyZUFuaW1hdGlvbihcbiAgZnJhbWVUaW1lc3RhbXA6IG51bWJlcixcbiAgYW5pbWF0ZWRQcm9wOiBBbmltYXRlZFN0eWxlLFxuICBsYXN0QW5pbWF0aW9uOiBBbmltYXRlZFN0eWxlLFxuICBsYXN0VmFsdWU6IEFuaW1hdGVkU3R5bGVcbik6IHZvaWQge1xuICAnd29ya2xldCc7XG4gIGlmIChBcnJheS5pc0FycmF5KGFuaW1hdGVkUHJvcCkpIHtcbiAgICBhbmltYXRlZFByb3AuZm9yRWFjaCgocHJvcCwgaW5kZXgpID0+IHtcbiAgICAgIHByZXBhcmVBbmltYXRpb24oXG4gICAgICAgIGZyYW1lVGltZXN0YW1wLFxuICAgICAgICBwcm9wLFxuICAgICAgICBsYXN0QW5pbWF0aW9uICYmIGxhc3RBbmltYXRpb25baW5kZXhdLFxuICAgICAgICBsYXN0VmFsdWUgJiYgbGFzdFZhbHVlW2luZGV4XVxuICAgICAgKTtcbiAgICB9KTtcbiAgICAvLyByZXR1cm4gYW5pbWF0ZWRQcm9wO1xuICB9XG4gIGlmICh0eXBlb2YgYW5pbWF0ZWRQcm9wID09PSAnb2JqZWN0JyAmJiBhbmltYXRlZFByb3Aub25GcmFtZSkge1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IGFuaW1hdGVkUHJvcDtcblxuICAgIGxldCB2YWx1ZSA9IGFuaW1hdGlvbi5jdXJyZW50O1xuICAgIGlmIChsYXN0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHR5cGVvZiBsYXN0VmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChsYXN0VmFsdWUudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIHByZXZpb3VzbHkgaXQgd2FzIGEgc2hhcmVkIHZhbHVlXG4gICAgICAgICAgdmFsdWUgPSBsYXN0VmFsdWUudmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAobGFzdFZhbHVlLm9uRnJhbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChsYXN0QW5pbWF0aW9uPy5jdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGl0IHdhcyBhbiBhbmltYXRpb24gYmVmb3JlLCBjb3B5IGl0cyBzdGF0ZVxuICAgICAgICAgICAgdmFsdWUgPSBsYXN0QW5pbWF0aW9uLmN1cnJlbnQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChsYXN0VmFsdWU/LmN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gaXQgd2FzIGluaXRpYWxpemVkXG4gICAgICAgICAgICB2YWx1ZSA9IGxhc3RWYWx1ZS5jdXJyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcHJldmlvdXNseSBpdCB3YXMgYSBwbGFpbiB2YWx1ZSwganVzdCBzZXQgaXQgYXMgc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgdmFsdWUgPSBsYXN0VmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYW5pbWF0aW9uLmNhbGxTdGFydCA9ICh0aW1lc3RhbXA6IFRpbWVzdGFtcCkgPT4ge1xuICAgICAgYW5pbWF0aW9uLm9uU3RhcnQoYW5pbWF0aW9uLCB2YWx1ZSwgdGltZXN0YW1wLCBsYXN0QW5pbWF0aW9uKTtcbiAgICB9O1xuICAgIGFuaW1hdGlvbi5jYWxsU3RhcnQoZnJhbWVUaW1lc3RhbXApO1xuICAgIGFuaW1hdGlvbi5jYWxsU3RhcnQgPSBudWxsO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhbmltYXRlZFByb3AgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gaXQgaXMgYW4gb2JqZWN0XG4gICAgT2JqZWN0LmtleXMoYW5pbWF0ZWRQcm9wKS5mb3JFYWNoKChrZXkpID0+XG4gICAgICBwcmVwYXJlQW5pbWF0aW9uKFxuICAgICAgICBmcmFtZVRpbWVzdGFtcCxcbiAgICAgICAgYW5pbWF0ZWRQcm9wW2tleV0sXG4gICAgICAgIGxhc3RBbmltYXRpb24gJiYgbGFzdEFuaW1hdGlvbltrZXldLFxuICAgICAgICBsYXN0VmFsdWUgJiYgbGFzdFZhbHVlW2tleV1cbiAgICAgIClcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJ1bkFuaW1hdGlvbnMoXG4gIGFuaW1hdGlvbjogQW5pbWF0ZWRTdHlsZSxcbiAgdGltZXN0YW1wOiBUaW1lc3RhbXAsXG4gIGtleTogbnVtYmVyIHwgc3RyaW5nLFxuICByZXN1bHQ6IEFuaW1hdGVkU3R5bGUsXG4gIGFuaW1hdGlvbnNBY3RpdmU6IFNoYXJlZFZhbHVlPGJvb2xlYW4+XG4pOiBib29sZWFuIHtcbiAgJ3dvcmtsZXQnO1xuICBpZiAoIWFuaW1hdGlvbnNBY3RpdmUudmFsdWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhbmltYXRpb24pKSB7XG4gICAgcmVzdWx0W2tleV0gPSBbXTtcbiAgICBsZXQgYWxsRmluaXNoZWQgPSB0cnVlO1xuICAgIGFuaW1hdGlvbi5mb3JFYWNoKChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIXJ1bkFuaW1hdGlvbnMoZW50cnksIHRpbWVzdGFtcCwgaW5kZXgsIHJlc3VsdFtrZXldLCBhbmltYXRpb25zQWN0aXZlKVxuICAgICAgKSB7XG4gICAgICAgIGFsbEZpbmlzaGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGFsbEZpbmlzaGVkO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhbmltYXRpb24gPT09ICdvYmplY3QnICYmIGFuaW1hdGlvbi5vbkZyYW1lKSB7XG4gICAgbGV0IGZpbmlzaGVkID0gdHJ1ZTtcbiAgICBpZiAoIWFuaW1hdGlvbi5maW5pc2hlZCkge1xuICAgICAgaWYgKGFuaW1hdGlvbi5jYWxsU3RhcnQpIHtcbiAgICAgICAgYW5pbWF0aW9uLmNhbGxTdGFydCh0aW1lc3RhbXApO1xuICAgICAgICBhbmltYXRpb24uY2FsbFN0YXJ0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGZpbmlzaGVkID0gYW5pbWF0aW9uLm9uRnJhbWUoYW5pbWF0aW9uLCB0aW1lc3RhbXApO1xuICAgICAgYW5pbWF0aW9uLnRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICBhbmltYXRpb24uZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICBhbmltYXRpb24uY2FsbGJhY2sgJiYgYW5pbWF0aW9uLmNhbGxiYWNrKHRydWUgLyogZmluaXNoZWQgKi8pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHRba2V5XSA9IGFuaW1hdGlvbi5jdXJyZW50O1xuICAgIHJldHVybiBmaW5pc2hlZDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYW5pbWF0aW9uID09PSAnb2JqZWN0Jykge1xuICAgIHJlc3VsdFtrZXldID0ge307XG4gICAgbGV0IGFsbEZpbmlzaGVkID0gdHJ1ZTtcbiAgICBPYmplY3Qua2V5cyhhbmltYXRpb24pLmZvckVhY2goKGspID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIXJ1bkFuaW1hdGlvbnMoXG4gICAgICAgICAgYW5pbWF0aW9uW2tdLFxuICAgICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgICBrLFxuICAgICAgICAgIHJlc3VsdFtrZXldLFxuICAgICAgICAgIGFuaW1hdGlvbnNBY3RpdmVcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGFsbEZpbmlzaGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGFsbEZpbmlzaGVkO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdFtrZXldID0gYW5pbWF0aW9uO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0eWxlVXBkYXRlcihcbiAgdmlld0Rlc2NyaXB0b3JzOiBTaGFyZWRWYWx1ZTxEZXNjcmlwdG9yW10+LFxuICB1cGRhdGVyOiBCYXNpY1dvcmtsZXRGdW5jdGlvbjxBbmltYXRlZFN0eWxlPixcbiAgc3RhdGU6IEFuaW1hdGVkU3RhdGUsXG4gIG1heWJlVmlld1JlZjogVmlld1JlZlNldDxhbnk+IHwgdW5kZWZpbmVkLFxuICBhbmltYXRpb25zQWN0aXZlOiBTaGFyZWRWYWx1ZTxib29sZWFuPlxuKTogdm9pZCB7XG4gICd3b3JrbGV0JztcbiAgY29uc3QgYW5pbWF0aW9ucyA9IHN0YXRlLmFuaW1hdGlvbnMgPz8ge307XG4gIGNvbnN0IG5ld1ZhbHVlcyA9IHVwZGF0ZXIoKSA/PyB7fTtcbiAgY29uc3Qgb2xkVmFsdWVzID0gc3RhdGUubGFzdDtcbiAgY29uc3Qgbm9uQW5pbWF0ZWROZXdWYWx1ZXM6IFN0eWxlUHJvcHMgPSB7fTtcblxuICBsZXQgaGFzQW5pbWF0aW9ucyA9IGZhbHNlO1xuICBsZXQgZnJhbWVUaW1lc3RhbXA6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgbGV0IGhhc05vbkFuaW1hdGVkVmFsdWVzID0gZmFsc2U7XG4gIGZvciAoY29uc3Qga2V5IGluIG5ld1ZhbHVlcykge1xuICAgIGNvbnN0IHZhbHVlID0gbmV3VmFsdWVzW2tleV07XG4gICAgaWYgKGlzQW5pbWF0ZWQodmFsdWUpKSB7XG4gICAgICBmcmFtZVRpbWVzdGFtcCA9IGdsb2JhbC5fX2ZyYW1lVGltZXN0YW1wIHx8IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgcHJlcGFyZUFuaW1hdGlvbihmcmFtZVRpbWVzdGFtcCwgdmFsdWUsIGFuaW1hdGlvbnNba2V5XSwgb2xkVmFsdWVzW2tleV0pO1xuICAgICAgYW5pbWF0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICBoYXNBbmltYXRpb25zID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFzTm9uQW5pbWF0ZWRWYWx1ZXMgPSB0cnVlO1xuICAgICAgbm9uQW5pbWF0ZWROZXdWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgZGVsZXRlIGFuaW1hdGlvbnNba2V5XTtcbiAgICB9XG4gIH1cblxuICBpZiAoaGFzQW5pbWF0aW9ucykge1xuICAgIGNvbnN0IGZyYW1lID0gKHRpbWVzdGFtcDogVGltZXN0YW1wKSA9PiB7XG4gICAgICBjb25zdCB7IGFuaW1hdGlvbnMsIGxhc3QsIGlzQW5pbWF0aW9uQ2FuY2VsbGVkIH0gPSBzdGF0ZTtcbiAgICAgIGlmIChpc0FuaW1hdGlvbkNhbmNlbGxlZCkge1xuICAgICAgICBzdGF0ZS5pc0FuaW1hdGlvblJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB1cGRhdGVzOiBBbmltYXRlZFN0eWxlID0ge307XG4gICAgICBsZXQgYWxsRmluaXNoZWQgPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBhbmltYXRpb25zKSB7XG4gICAgICAgIGNvbnN0IGZpbmlzaGVkID0gcnVuQW5pbWF0aW9ucyhcbiAgICAgICAgICBhbmltYXRpb25zW3Byb3BOYW1lXSxcbiAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgcHJvcE5hbWUsXG4gICAgICAgICAgdXBkYXRlcyxcbiAgICAgICAgICBhbmltYXRpb25zQWN0aXZlXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgIGxhc3RbcHJvcE5hbWVdID0gdXBkYXRlc1twcm9wTmFtZV07XG4gICAgICAgICAgZGVsZXRlIGFuaW1hdGlvbnNbcHJvcE5hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsbEZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHVwZGF0ZXMpIHtcbiAgICAgICAgdXBkYXRlUHJvcHModmlld0Rlc2NyaXB0b3JzLCB1cGRhdGVzLCBtYXliZVZpZXdSZWYpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWFsbEZpbmlzaGVkKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5pc0FuaW1hdGlvblJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc3RhdGUuYW5pbWF0aW9ucyA9IGFuaW1hdGlvbnM7XG4gICAgaWYgKCFzdGF0ZS5pc0FuaW1hdGlvblJ1bm5pbmcpIHtcbiAgICAgIHN0YXRlLmlzQW5pbWF0aW9uQ2FuY2VsbGVkID0gZmFsc2U7XG4gICAgICBzdGF0ZS5pc0FuaW1hdGlvblJ1bm5pbmcgPSB0cnVlO1xuICAgICAgZnJhbWUoZnJhbWVUaW1lc3RhbXAhKTtcbiAgICB9XG5cbiAgICBpZiAoaGFzTm9uQW5pbWF0ZWRWYWx1ZXMpIHtcbiAgICAgIHVwZGF0ZVByb3BzKHZpZXdEZXNjcmlwdG9ycywgbm9uQW5pbWF0ZWROZXdWYWx1ZXMsIG1heWJlVmlld1JlZik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN0YXRlLmlzQW5pbWF0aW9uQ2FuY2VsbGVkID0gdHJ1ZTtcbiAgICBzdGF0ZS5hbmltYXRpb25zID0gW107XG5cbiAgICBpZiAoIXNoYWxsb3dFcXVhbChvbGRWYWx1ZXMsIG5ld1ZhbHVlcykpIHtcbiAgICAgIHVwZGF0ZVByb3BzKHZpZXdEZXNjcmlwdG9ycywgbmV3VmFsdWVzLCBtYXliZVZpZXdSZWYpO1xuICAgIH1cbiAgfVxuICBzdGF0ZS5sYXN0ID0gbmV3VmFsdWVzO1xufVxuXG5mdW5jdGlvbiBqZXN0U3R5bGVVcGRhdGVyKFxuICB2aWV3RGVzY3JpcHRvcnM6IFNoYXJlZFZhbHVlPERlc2NyaXB0b3JbXT4sXG4gIHVwZGF0ZXI6IEJhc2ljV29ya2xldEZ1bmN0aW9uPEFuaW1hdGVkU3R5bGU+LFxuICBzdGF0ZTogQW5pbWF0ZWRTdGF0ZSxcbiAgbWF5YmVWaWV3UmVmOiBWaWV3UmVmU2V0PGFueT4gfCB1bmRlZmluZWQsXG4gIGFuaW1hdGlvbnNBY3RpdmU6IFNoYXJlZFZhbHVlPGJvb2xlYW4+LFxuICBhbmltYXRlZFN0eWxlOiBNdXRhYmxlUmVmT2JqZWN0PEFuaW1hdGVkU3R5bGU+LFxuICBhZGFwdGVyczogQWRhcHRlcldvcmtsZXRGdW5jdGlvbltdID0gW11cbik6IHZvaWQge1xuICAnd29ya2xldCc7XG4gIGNvbnN0IGFuaW1hdGlvbnM6IEFuaW1hdGVkU3R5bGUgPSBzdGF0ZS5hbmltYXRpb25zID8/IHt9O1xuICBjb25zdCBuZXdWYWx1ZXMgPSB1cGRhdGVyKCkgPz8ge307XG4gIGNvbnN0IG9sZFZhbHVlcyA9IHN0YXRlLmxhc3Q7XG5cbiAgLy8gZXh0cmFjdCBhbmltYXRlZCBwcm9wc1xuICBsZXQgaGFzQW5pbWF0aW9ucyA9IGZhbHNlO1xuICBsZXQgZnJhbWVUaW1lc3RhbXA6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgT2JqZWN0LmtleXMoYW5pbWF0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBuZXdWYWx1ZXNba2V5XTtcbiAgICBpZiAoIWlzQW5pbWF0ZWQodmFsdWUpKSB7XG4gICAgICBkZWxldGUgYW5pbWF0aW9uc1trZXldO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5rZXlzKG5ld1ZhbHVlcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBuZXdWYWx1ZXNba2V5XTtcbiAgICBpZiAoaXNBbmltYXRlZCh2YWx1ZSkpIHtcbiAgICAgIGZyYW1lVGltZXN0YW1wID0gZ2xvYmFsLl9fZnJhbWVUaW1lc3RhbXAgfHwgcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBwcmVwYXJlQW5pbWF0aW9uKGZyYW1lVGltZXN0YW1wLCB2YWx1ZSwgYW5pbWF0aW9uc1trZXldLCBvbGRWYWx1ZXNba2V5XSk7XG4gICAgICBhbmltYXRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgIGhhc0FuaW1hdGlvbnMgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gZnJhbWUodGltZXN0YW1wOiBUaW1lc3RhbXApIHtcbiAgICBjb25zdCB7IGFuaW1hdGlvbnMsIGxhc3QsIGlzQW5pbWF0aW9uQ2FuY2VsbGVkIH0gPSBzdGF0ZTtcbiAgICBpZiAoaXNBbmltYXRpb25DYW5jZWxsZWQpIHtcbiAgICAgIHN0YXRlLmlzQW5pbWF0aW9uUnVubmluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZXM6IEFuaW1hdGVkU3R5bGUgPSB7fTtcbiAgICBsZXQgYWxsRmluaXNoZWQgPSB0cnVlO1xuICAgIE9iamVjdC5rZXlzKGFuaW1hdGlvbnMpLmZvckVhY2goKHByb3BOYW1lKSA9PiB7XG4gICAgICBjb25zdCBmaW5pc2hlZCA9IHJ1bkFuaW1hdGlvbnMoXG4gICAgICAgIGFuaW1hdGlvbnNbcHJvcE5hbWVdLFxuICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgIHByb3BOYW1lLFxuICAgICAgICB1cGRhdGVzLFxuICAgICAgICBhbmltYXRpb25zQWN0aXZlXG4gICAgICApO1xuICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgIGxhc3RbcHJvcE5hbWVdID0gdXBkYXRlc1twcm9wTmFtZV07XG4gICAgICAgIGRlbGV0ZSBhbmltYXRpb25zW3Byb3BOYW1lXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsbEZpbmlzaGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoT2JqZWN0LmtleXModXBkYXRlcykubGVuZ3RoKSB7XG4gICAgICB1cGRhdGVQcm9wc0plc3RXcmFwcGVyKFxuICAgICAgICB2aWV3RGVzY3JpcHRvcnMsXG4gICAgICAgIHVwZGF0ZXMsXG4gICAgICAgIG1heWJlVmlld1JlZixcbiAgICAgICAgYW5pbWF0ZWRTdHlsZSxcbiAgICAgICAgYWRhcHRlcnNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFhbGxGaW5pc2hlZCkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuaXNBbmltYXRpb25SdW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKGhhc0FuaW1hdGlvbnMpIHtcbiAgICBzdGF0ZS5hbmltYXRpb25zID0gYW5pbWF0aW9ucztcbiAgICBpZiAoIXN0YXRlLmlzQW5pbWF0aW9uUnVubmluZykge1xuICAgICAgc3RhdGUuaXNBbmltYXRpb25DYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgIHN0YXRlLmlzQW5pbWF0aW9uUnVubmluZyA9IHRydWU7XG4gICAgICBmcmFtZShmcmFtZVRpbWVzdGFtcCEpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5pc0FuaW1hdGlvbkNhbmNlbGxlZCA9IHRydWU7XG4gICAgc3RhdGUuYW5pbWF0aW9ucyA9IFtdO1xuICB9XG5cbiAgLy8gY2FsY3VsYXRlIGRpZmZcbiAgc3RhdGUubGFzdCA9IG5ld1ZhbHVlcztcblxuICBpZiAoIXNoYWxsb3dFcXVhbChvbGRWYWx1ZXMsIG5ld1ZhbHVlcykpIHtcbiAgICB1cGRhdGVQcm9wc0plc3RXcmFwcGVyKFxuICAgICAgdmlld0Rlc2NyaXB0b3JzLFxuICAgICAgbmV3VmFsdWVzLFxuICAgICAgbWF5YmVWaWV3UmVmLFxuICAgICAgYW5pbWF0ZWRTdHlsZSxcbiAgICAgIGFkYXB0ZXJzXG4gICAgKTtcbiAgfVxufVxuXG4vLyBjaGVjayBmb3IgaW52YWxpZCB1c2FnZSBvZiBzaGFyZWQgdmFsdWVzIGluIHJldHVybmVkIG9iamVjdFxuZnVuY3Rpb24gY2hlY2tTaGFyZWRWYWx1ZVVzYWdlKFxuICBwcm9wOiBOZXN0ZWRPYmplY3RWYWx1ZXM8QW5pbWF0aW9uT2JqZWN0PixcbiAgY3VycmVudEtleT86IHN0cmluZ1xuKTogdm9pZCB7XG4gIGlmIChBcnJheS5pc0FycmF5KHByb3ApKSB7XG4gICAgLy8gaWYgaXQncyBhbiBhcnJheSAoaS5leC4gdHJhbnNmb3JtKSB2YWxpZGF0ZSBhbGwgaXRzIGVsZW1lbnRzXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHByb3ApIHtcbiAgICAgIGNoZWNrU2hhcmVkVmFsdWVVc2FnZShlbGVtZW50LCBjdXJyZW50S2V5KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXG4gICAgdHlwZW9mIHByb3AgPT09ICdvYmplY3QnICYmXG4gICAgcHJvcCAhPT0gbnVsbCAmJlxuICAgIHByb3AudmFsdWUgPT09IHVuZGVmaW5lZFxuICApIHtcbiAgICAvLyBpZiBpdCdzIGEgbmVzdGVkIG9iamVjdCwgcnVuIHZhbGlkYXRpb24gZm9yIGFsbCBpdHMgcHJvcHNcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhwcm9wKSkge1xuICAgICAgY2hlY2tTaGFyZWRWYWx1ZVVzYWdlKHByb3Bba2V5XSwga2V5KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoXG4gICAgY3VycmVudEtleSAhPT0gdW5kZWZpbmVkICYmXG4gICAgdHlwZW9mIHByb3AgPT09ICdvYmplY3QnICYmXG4gICAgcHJvcCAhPT0gbnVsbCAmJlxuICAgIHByb3AudmFsdWUgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICAvLyBpZiBzaGFyZWQgdmFsdWUgaXMgcGFzc2VkIGluc3RlZCBvZiBpdHMgdmFsdWUsIHRocm93IGFuIGVycm9yXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYGludmFsaWQgdmFsdWUgcGFzc2VkIHRvIFxcYCR7Y3VycmVudEtleX1cXGAsIG1heWJlIHlvdSBmb3Jnb3QgdG8gdXNlIFxcYC52YWx1ZVxcYD9gXG4gICAgKTtcbiAgfVxufVxuXG4vLyBUT0RPIFRZUEVTQ1JJUFQgVGhpcyBpcyBhIHRlbXBvcmFyeSB0eXBlIHRvIGdldCByaWQgb2YgLmQudHMgZmlsZS5cbnR5cGUgQW5pbWF0ZWRTdHlsZVByb3A8VD4gPSBBbmltYXRlU3R5bGU8VD4gfCBSZWdpc3RlcmVkU3R5bGU8QW5pbWF0ZVN0eWxlPFQ+PjtcblxuLy8gVE9ETyBUWVBFU0NSSVBUIFRoaXMgaXMgYSB0ZW1wb3JhcnkgdHlwZSB0byBnZXQgcmlkIG9mIC5kLnRzIGZpbGUuXG50eXBlIHVzZUFuaW1hdGVkU3R5bGVUeXBlID0gPFxuICBUIGV4dGVuZHMgQW5pbWF0ZWRTdHlsZVByb3A8Vmlld1N0eWxlIHwgSW1hZ2VTdHlsZSB8IFRleHRTdHlsZT5cbj4oXG4gIHVwZGF0ZXI6ICgpID0+IFQsXG4gIGRlcHM/OiBEZXBlbmRlbmN5TGlzdCB8IG51bGxcbikgPT4gVDtcblxuZXhwb3J0IGNvbnN0IHVzZUFuaW1hdGVkU3R5bGUgPSBmdW5jdGlvbiA8VCBleHRlbmRzIEFuaW1hdGVkU3R5bGU+KFxuICAvLyBhbmltYXRlZCBzdHlsZSBjYW5ub3QgYmUgYW4gYXJyYXlcbiAgdXBkYXRlcjogQmFzaWNXb3JrbGV0RnVuY3Rpb248VCBleHRlbmRzIEFycmF5PHVua25vd24+ID8gbmV2ZXIgOiBUPixcbiAgZGVwZW5kZW5jaWVzPzogRGVwZW5kZW5jeUxpc3QsXG4gIGFkYXB0ZXJzPzogQWRhcHRlcldvcmtsZXRGdW5jdGlvbiB8IEFkYXB0ZXJXb3JrbGV0RnVuY3Rpb25bXVxuKTogQW5pbWF0ZWRTdHlsZVJlc3VsdCB7XG4gIGNvbnN0IHZpZXdzUmVmOiBWaWV3UmVmU2V0PGFueT4gPSBtYWtlVmlld3NSZWZTZXQoKTtcbiAgY29uc3QgaW5pdFJlZiA9IHVzZVJlZjxBbmltYXRpb25SZWY+KCk7XG4gIGxldCBpbnB1dHMgPSBPYmplY3QudmFsdWVzKHVwZGF0ZXIuX2Nsb3N1cmUgPz8ge30pO1xuICBpZiAoc2hvdWxkQmVVc2VXZWIoKSkge1xuICAgIGlmICghaW5wdXRzLmxlbmd0aCAmJiBkZXBlbmRlbmNpZXM/Lmxlbmd0aCkge1xuICAgICAgLy8gbGV0IHdlYiB3b3JrIHdpdGhvdXQgYSBCYWJlbC9TV0MgcGx1Z2luXG4gICAgICBpbnB1dHMgPSBkZXBlbmRlbmNpZXM7XG4gICAgfVxuICAgIGlmIChfX0RFVl9fICYmICFpbnB1dHMubGVuZ3RoICYmICFkZXBlbmRlbmNpZXMgJiYgIXVwZGF0ZXIuX193b3JrbGV0SGFzaCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgdXNlQW5pbWF0ZWRTdHlsZSB3YXMgdXNlZCB3aXRob3V0IGEgZGVwZW5kZW5jeSBhcnJheSBvciBCYWJlbCBwbHVnaW4uIFBsZWFzZSBleHBsaWNpdGx5IHBhc3MgYSBkZXBlbmRlbmN5IGFycmF5LCBvciBlbmFibGUgdGhlIEJhYmVsL1NXQyBwbHVnaW4uXG5cbkZvciBtb3JlLCBzZWUgdGhlIGRvY3M6IGh0dHBzOi8vZG9jcy5zd21hbnNpb24uY29tL3JlYWN0LW5hdGl2ZS1yZWFuaW1hdGVkL2RvY3MvZnVuZGFtZW50YWxzL3dlYi1zdXBwb3J0I3dlYi13aXRob3V0LWEtYmFiZWwtcGx1Z2luYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgYWRhcHRlcnNBcnJheTogQWRhcHRlcldvcmtsZXRGdW5jdGlvbltdID0gYWRhcHRlcnNcbiAgICA/IEFycmF5LmlzQXJyYXkoYWRhcHRlcnMpXG4gICAgICA/IGFkYXB0ZXJzXG4gICAgICA6IFthZGFwdGVyc11cbiAgICA6IFtdO1xuICBjb25zdCBhZGFwdGVyc0hhc2ggPSBhZGFwdGVycyA/IGJ1aWxkV29ya2xldHNIYXNoKGFkYXB0ZXJzQXJyYXkpIDogbnVsbDtcbiAgY29uc3QgYW5pbWF0aW9uc0FjdGl2ZSA9IHVzZVNoYXJlZFZhbHVlPGJvb2xlYW4+KHRydWUpO1xuICBjb25zdCBhbmltYXRlZFN0eWxlOiBNdXRhYmxlUmVmT2JqZWN0PEFuaW1hdGVkU3R5bGU+ID0gdXNlUmVmPEFuaW1hdGVkU3R5bGU+KFxuICAgIHt9XG4gICk7XG5cbiAgLy8gYnVpbGQgZGVwZW5kZW5jaWVzXG4gIGlmICghZGVwZW5kZW5jaWVzKSB7XG4gICAgZGVwZW5kZW5jaWVzID0gWy4uLmlucHV0cywgdXBkYXRlci5fX3dvcmtsZXRIYXNoXTtcbiAgfSBlbHNlIHtcbiAgICBkZXBlbmRlbmNpZXMucHVzaCh1cGRhdGVyLl9fd29ya2xldEhhc2gpO1xuICB9XG4gIGFkYXB0ZXJzSGFzaCAmJiBkZXBlbmRlbmNpZXMucHVzaChhZGFwdGVyc0hhc2gpO1xuXG4gIGlmICghaW5pdFJlZi5jdXJyZW50KSB7XG4gICAgY29uc3QgaW5pdGlhbFN0eWxlOiBBbmltYXRlZFN0eWxlID0gaW5pdGlhbFVwZGF0ZXJSdW4odXBkYXRlcik7XG4gICAgdmFsaWRhdGVBbmltYXRlZFN0eWxlcyhpbml0aWFsU3R5bGUpO1xuICAgIGluaXRSZWYuY3VycmVudCA9IHtcbiAgICAgIGluaXRpYWw6IHtcbiAgICAgICAgdmFsdWU6IGluaXRpYWxTdHlsZSxcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgIH0sXG4gICAgICByZW1vdGVTdGF0ZTogbWFrZVJlbW90ZTxBbmltYXRlZFN0YXRlPih7XG4gICAgICAgIGxhc3Q6IGluaXRpYWxTdHlsZSxcbiAgICAgICAgYW5pbWF0aW9uczoge30sXG4gICAgICAgIGlzQW5pbWF0aW9uQ2FuY2VsbGVkOiBmYWxzZSxcbiAgICAgICAgaXNBbmltYXRpb25SdW5uaW5nOiBmYWxzZSxcbiAgICAgIH0pLFxuICAgICAgdmlld0Rlc2NyaXB0b3JzOiBtYWtlVmlld0Rlc2NyaXB0b3JzU2V0KCksXG4gICAgfTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gIGNvbnN0IHsgaW5pdGlhbCwgcmVtb3RlU3RhdGUsIHZpZXdEZXNjcmlwdG9ycyB9ID0gaW5pdFJlZi5jdXJyZW50ITtcbiAgY29uc3Qgc2hhcmFibGVWaWV3RGVzY3JpcHRvcnMgPSB2aWV3RGVzY3JpcHRvcnMuc2hhcmFibGVWaWV3RGVzY3JpcHRvcnM7XG4gIGNvbnN0IG1heWJlVmlld1JlZiA9IE5hdGl2ZVJlYW5pbWF0ZWRNb2R1bGUubmF0aXZlID8gdW5kZWZpbmVkIDogdmlld3NSZWY7XG5cbiAgZGVwZW5kZW5jaWVzLnB1c2goc2hhcmFibGVWaWV3RGVzY3JpcHRvcnMpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGZ1bjtcbiAgICBsZXQgdXBkYXRlckZuID0gdXBkYXRlciBhcyBCYXNpY1dvcmtsZXRGdW5jdGlvbk9wdGlvbmFsPFQ+O1xuICAgIGlmIChhZGFwdGVycykge1xuICAgICAgdXBkYXRlckZuID0gKCkgPT4ge1xuICAgICAgICAnd29ya2xldCc7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlcyA9IHVwZGF0ZXIoKTtcbiAgICAgICAgYWRhcHRlcnNBcnJheS5mb3JFYWNoKChhZGFwdGVyKSA9PiB7XG4gICAgICAgICAgYWRhcHRlcihuZXdWYWx1ZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlcztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGlzSmVzdCgpKSB7XG4gICAgICBmdW4gPSAoKSA9PiB7XG4gICAgICAgICd3b3JrbGV0JztcbiAgICAgICAgamVzdFN0eWxlVXBkYXRlcihcbiAgICAgICAgICBzaGFyYWJsZVZpZXdEZXNjcmlwdG9ycyxcbiAgICAgICAgICB1cGRhdGVyLFxuICAgICAgICAgIHJlbW90ZVN0YXRlLFxuICAgICAgICAgIG1heWJlVmlld1JlZixcbiAgICAgICAgICBhbmltYXRpb25zQWN0aXZlLFxuICAgICAgICAgIGFuaW1hdGVkU3R5bGUsXG4gICAgICAgICAgYWRhcHRlcnNBcnJheVxuICAgICAgICApO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnVuID0gKCkgPT4ge1xuICAgICAgICAnd29ya2xldCc7XG4gICAgICAgIHN0eWxlVXBkYXRlcihcbiAgICAgICAgICBzaGFyYWJsZVZpZXdEZXNjcmlwdG9ycyxcbiAgICAgICAgICB1cGRhdGVyRm4sXG4gICAgICAgICAgcmVtb3RlU3RhdGUsXG4gICAgICAgICAgbWF5YmVWaWV3UmVmLFxuICAgICAgICAgIGFuaW1hdGlvbnNBY3RpdmVcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IG1hcHBlcklkID0gc3RhcnRNYXBwZXIoZnVuLCBpbnB1dHMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdG9wTWFwcGVyKG1hcHBlcklkKTtcbiAgICB9O1xuICB9LCBkZXBlbmRlbmNpZXMpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYW5pbWF0aW9uc0FjdGl2ZS52YWx1ZSA9IHRydWU7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGFuaW1hdGlvbnNBY3RpdmUudmFsdWUgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgY2hlY2tTaGFyZWRWYWx1ZVVzYWdlKGluaXRpYWwudmFsdWUpO1xuXG4gIGlmIChpc0plc3QoKSkge1xuICAgIHJldHVybiB7IHZpZXdEZXNjcmlwdG9ycywgaW5pdGlhbCwgdmlld3NSZWYsIGFuaW1hdGVkU3R5bGUgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyB2aWV3RGVzY3JpcHRvcnMsIGluaXRpYWwsIHZpZXdzUmVmIH07XG4gIH1cbiAgLy8gVE9ETyBUWVBFU0NSSVBUIFRoaXMgdGVtcG9yYXJ5IGNhc3QgaXMgdG8gZ2V0IHJpZCBvZiAuZC50cyBmaWxlLlxufSBhcyB1c2VBbmltYXRlZFN0eWxlVHlwZTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBRUEsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsWUFBQSxHQUFBQyx1QkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssaUJBQUEsR0FBQUMsc0JBQUEsQ0FBQU4sT0FBQTtBQUNBLElBQUFPLGVBQUEsR0FBQVAsT0FBQTtBQUNBLElBQUFRLE1BQUEsR0FBQVIsT0FBQTtBQVFBLElBQUFTLG1CQUFBLEdBQUFULE9BQUE7QUFDQSxJQUFBVSxnQkFBQSxHQUFBVixPQUFBO0FBQTJELFNBQUFXLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSx5QkFBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBVCx3QkFBQWEsR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLG9CQUFBQSxHQUFBLHdCQUFBQSxHQUFBLDRCQUFBRSxPQUFBLEVBQUFGLEdBQUEsVUFBQUcsS0FBQSxHQUFBUix3QkFBQSxDQUFBQyxXQUFBLE9BQUFPLEtBQUEsSUFBQUEsS0FBQSxDQUFBQyxHQUFBLENBQUFKLEdBQUEsWUFBQUcsS0FBQSxDQUFBRSxHQUFBLENBQUFMLEdBQUEsU0FBQU0sTUFBQSxXQUFBQyxxQkFBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxHQUFBLElBQUFYLEdBQUEsUUFBQVcsR0FBQSxrQkFBQUgsTUFBQSxDQUFBSSxTQUFBLENBQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBZCxHQUFBLEVBQUFXLEdBQUEsU0FBQUksSUFBQSxHQUFBUixxQkFBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFWLEdBQUEsRUFBQVcsR0FBQSxjQUFBSSxJQUFBLEtBQUFBLElBQUEsQ0FBQVYsR0FBQSxJQUFBVSxJQUFBLENBQUFDLEdBQUEsS0FBQVIsTUFBQSxDQUFBQyxjQUFBLENBQUFILE1BQUEsRUFBQUssR0FBQSxFQUFBSSxJQUFBLFlBQUFULE1BQUEsQ0FBQUssR0FBQSxJQUFBWCxHQUFBLENBQUFXLEdBQUEsU0FBQUwsTUFBQSxDQUFBSixPQUFBLEdBQUFGLEdBQUEsTUFBQUcsS0FBQSxJQUFBQSxLQUFBLENBQUFhLEdBQUEsQ0FBQWhCLEdBQUEsRUFBQU0sTUFBQSxZQUFBQSxNQUFBO0FBMkMzRCxTQUFTVyxnQkFBZ0JBLENBQ3ZCQyxjQUFzQixFQUN0QkMsWUFBMkIsRUFDM0JDLGFBQTRCLEVBQzVCQyxTQUF3QixFQUNsQjtFQUNOLFNBQVM7O0VBQ1QsSUFBSUMsS0FBSyxDQUFDQyxPQUFPLENBQUNKLFlBQVksQ0FBQyxFQUFFO0lBQy9CQSxZQUFZLENBQUNLLE9BQU8sQ0FBQyxVQUFDQyxJQUFJLEVBQUVDLEtBQUssRUFBSztNQUNwQ1QsZ0JBQWdCLENBQ2RDLGNBQWMsRUFDZE8sSUFBSSxFQUNKTCxhQUFhLElBQUlBLGFBQWEsQ0FBQ00sS0FBSyxDQUFDLEVBQ3JDTCxTQUFTLElBQUlBLFNBQVMsQ0FBQ0ssS0FBSyxDQUFDLENBQzlCO0lBQ0gsQ0FBQyxDQUFDO0VBRUo7RUFDQSxJQUFJLE9BQU9QLFlBQVksS0FBSyxRQUFRLElBQUlBLFlBQVksQ0FBQ1EsT0FBTyxFQUFFO0lBQzVELElBQU1DLFNBQVMsR0FBR1QsWUFBWTtJQUU5QixJQUFJVSxLQUFLLEdBQUdELFNBQVMsQ0FBQ0UsT0FBTztJQUM3QixJQUFJVCxTQUFTLEtBQUtVLFNBQVMsRUFBRTtNQUMzQixJQUFJLE9BQU9WLFNBQVMsS0FBSyxRQUFRLEVBQUU7UUFDakMsSUFBSUEsU0FBUyxDQUFDUSxLQUFLLEtBQUtFLFNBQVMsRUFBRTtVQUVqQ0YsS0FBSyxHQUFHUixTQUFTLENBQUNRLEtBQUs7UUFDekIsQ0FBQyxNQUFNLElBQUlSLFNBQVMsQ0FBQ00sT0FBTyxLQUFLSSxTQUFTLEVBQUU7VUFDMUMsSUFBSSxDQUFBWCxhQUFhLGFBQWJBLGFBQWEsdUJBQWJBLGFBQWEsQ0FBRVUsT0FBTyxNQUFLQyxTQUFTLEVBQUU7WUFFeENGLEtBQUssR0FBR1QsYUFBYSxDQUFDVSxPQUFPO1VBQy9CLENBQUMsTUFBTSxJQUFJLENBQUFULFNBQVMsYUFBVEEsU0FBUyx1QkFBVEEsU0FBUyxDQUFFUyxPQUFPLE1BQUtDLFNBQVMsRUFBRTtZQUUzQ0YsS0FBSyxHQUFHUixTQUFTLENBQUNTLE9BQU87VUFDM0I7UUFDRjtNQUNGLENBQUMsTUFBTTtRQUVMRCxLQUFLLEdBQUdSLFNBQVM7TUFDbkI7SUFDRjtJQUVBTyxTQUFTLENBQUNJLFNBQVMsR0FBSSxVQUFBQyxTQUFvQixFQUFLO01BQzlDTCxTQUFTLENBQUNNLE9BQU8sQ0FBQ04sU0FBUyxFQUFFQyxLQUFLLEVBQUVJLFNBQVMsRUFBRWIsYUFBYSxDQUFDO0lBQy9ELENBQUM7SUFDRFEsU0FBUyxDQUFDSSxTQUFTLENBQUNkLGNBQWMsQ0FBQztJQUNuQ1UsU0FBUyxDQUFDSSxTQUFTLEdBQUcsSUFBSTtFQUM1QixDQUFDLE1BQU0sSUFBSSxPQUFPYixZQUFZLEtBQUssUUFBUSxFQUFFO0lBRTNDWCxNQUFNLENBQUMyQixJQUFJLENBQUNoQixZQUFZLENBQUMsQ0FBQ0ssT0FBTyxDQUFFLFVBQUFiLEdBQUc7TUFBQSxPQUNwQ00sZ0JBQWdCLENBQ2RDLGNBQWMsRUFDZEMsWUFBWSxDQUFDUixHQUFHLENBQUMsRUFDakJTLGFBQWEsSUFBSUEsYUFBYSxDQUFDVCxHQUFHLENBQUMsRUFDbkNVLFNBQVMsSUFBSUEsU0FBUyxDQUFDVixHQUFHLENBQUMsQ0FDNUI7SUFBQSxFQUNGO0VBQ0g7QUFDRjtBQUVBLFNBQVN5QixhQUFhQSxDQUNwQlIsU0FBd0IsRUFDeEJLLFNBQW9CLEVBQ3BCdEIsR0FBb0IsRUFDcEIwQixNQUFxQixFQUNyQkMsZ0JBQXNDLEVBQzdCO0VBQ1QsU0FBUzs7RUFDVCxJQUFJLENBQUNBLGdCQUFnQixDQUFDVCxLQUFLLEVBQUU7SUFDM0IsT0FBTyxJQUFJO0VBQ2I7RUFDQSxJQUFJUCxLQUFLLENBQUNDLE9BQU8sQ0FBQ0ssU0FBUyxDQUFDLEVBQUU7SUFDNUJTLE1BQU0sQ0FBQzFCLEdBQUcsQ0FBQyxHQUFHLEVBQUU7SUFDaEIsSUFBSTRCLFdBQVcsR0FBRyxJQUFJO0lBQ3RCWCxTQUFTLENBQUNKLE9BQU8sQ0FBQyxVQUFDZ0IsS0FBSyxFQUFFZCxLQUFLLEVBQUs7TUFDbEMsSUFDRSxDQUFDVSxhQUFhLENBQUNJLEtBQUssRUFBRVAsU0FBUyxFQUFFUCxLQUFLLEVBQUVXLE1BQU0sQ0FBQzFCLEdBQUcsQ0FBQyxFQUFFMkIsZ0JBQWdCLENBQUMsRUFDdEU7UUFDQUMsV0FBVyxHQUFHLEtBQUs7TUFDckI7SUFDRixDQUFDLENBQUM7SUFDRixPQUFPQSxXQUFXO0VBQ3BCLENBQUMsTUFBTSxJQUFJLE9BQU9YLFNBQVMsS0FBSyxRQUFRLElBQUlBLFNBQVMsQ0FBQ0QsT0FBTyxFQUFFO0lBQzdELElBQUljLFFBQVEsR0FBRyxJQUFJO0lBQ25CLElBQUksQ0FBQ2IsU0FBUyxDQUFDYSxRQUFRLEVBQUU7TUFDdkIsSUFBSWIsU0FBUyxDQUFDSSxTQUFTLEVBQUU7UUFDdkJKLFNBQVMsQ0FBQ0ksU0FBUyxDQUFDQyxTQUFTLENBQUM7UUFDOUJMLFNBQVMsQ0FBQ0ksU0FBUyxHQUFHLElBQUk7TUFDNUI7TUFDQVMsUUFBUSxHQUFHYixTQUFTLENBQUNELE9BQU8sQ0FBQ0MsU0FBUyxFQUFFSyxTQUFTLENBQUM7TUFDbERMLFNBQVMsQ0FBQ0ssU0FBUyxHQUFHQSxTQUFTO01BQy9CLElBQUlRLFFBQVEsRUFBRTtRQUNaYixTQUFTLENBQUNhLFFBQVEsR0FBRyxJQUFJO1FBQ3pCYixTQUFTLENBQUNjLFFBQVEsSUFBSWQsU0FBUyxDQUFDYyxRQUFRLENBQUMsSUFBSyxDQUFlO01BQy9EO0lBQ0Y7SUFDQUwsTUFBTSxDQUFDMUIsR0FBRyxDQUFDLEdBQUdpQixTQUFTLENBQUNFLE9BQU87SUFDL0IsT0FBT1csUUFBUTtFQUNqQixDQUFDLE1BQU0sSUFBSSxPQUFPYixTQUFTLEtBQUssUUFBUSxFQUFFO0lBQ3hDUyxNQUFNLENBQUMxQixHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDaEIsSUFBSTRCLFlBQVcsR0FBRyxJQUFJO0lBQ3RCL0IsTUFBTSxDQUFDMkIsSUFBSSxDQUFDUCxTQUFTLENBQUMsQ0FBQ0osT0FBTyxDQUFFLFVBQUFtQixDQUFDLEVBQUs7TUFDcEMsSUFDRSxDQUFDUCxhQUFhLENBQ1pSLFNBQVMsQ0FBQ2UsQ0FBQyxDQUFDLEVBQ1pWLFNBQVMsRUFDVFUsQ0FBQyxFQUNETixNQUFNLENBQUMxQixHQUFHLENBQUMsRUFDWDJCLGdCQUFnQixDQUNqQixFQUNEO1FBQ0FDLFlBQVcsR0FBRyxLQUFLO01BQ3JCO0lBQ0YsQ0FBQyxDQUFDO0lBQ0YsT0FBT0EsWUFBVztFQUNwQixDQUFDLE1BQU07SUFDTEYsTUFBTSxDQUFDMUIsR0FBRyxDQUFDLEdBQUdpQixTQUFTO0lBQ3ZCLE9BQU8sSUFBSTtFQUNiO0FBQ0Y7QUFFQSxTQUFTZ0IsWUFBWUEsQ0FDbkJDLGVBQTBDLEVBQzFDQyxPQUE0QyxFQUM1Q0MsS0FBb0IsRUFDcEJDLFlBQXlDLEVBQ3pDVixnQkFBc0MsRUFDaEM7RUFDTixTQUFTOztFQUFBLElBQUFXLGlCQUFBLEVBQUFDLFFBQUE7RUFDVCxJQUFNQyxVQUFVLElBQUFGLGlCQUFBLEdBQUdGLEtBQUssQ0FBQ0ksVUFBVSxZQUFBRixpQkFBQSxHQUFJLENBQUMsQ0FBQztFQUN6QyxJQUFNRyxTQUFTLElBQUFGLFFBQUEsR0FBR0osT0FBTyxFQUFFLFlBQUFJLFFBQUEsR0FBSSxDQUFDLENBQUM7RUFDakMsSUFBTUcsU0FBUyxHQUFHTixLQUFLLENBQUNPLElBQUk7RUFDNUIsSUFBTUMsb0JBQWdDLEdBQUcsQ0FBQyxDQUFDO0VBRTNDLElBQUlDLGFBQWEsR0FBRyxLQUFLO0VBQ3pCLElBQUl0QyxjQUFrQztFQUN0QyxJQUFJdUMsb0JBQW9CLEdBQUcsS0FBSztFQUNoQyxLQUFLLElBQU05QyxHQUFHLElBQUl5QyxTQUFTLEVBQUU7SUFDM0IsSUFBTXZCLEtBQUssR0FBR3VCLFNBQVMsQ0FBQ3pDLEdBQUcsQ0FBQztJQUM1QixJQUFJLElBQUErQyxpQkFBVSxFQUFDN0IsS0FBSyxDQUFDLEVBQUU7TUFDckJYLGNBQWMsR0FBR3lDLE1BQU0sQ0FBQ0MsZ0JBQWdCLElBQUlDLFdBQVcsQ0FBQ0MsR0FBRyxFQUFFO01BQzdEN0MsZ0JBQWdCLENBQUNDLGNBQWMsRUFBRVcsS0FBSyxFQUFFc0IsVUFBVSxDQUFDeEMsR0FBRyxDQUFDLEVBQUUwQyxTQUFTLENBQUMxQyxHQUFHLENBQUMsQ0FBQztNQUN4RXdDLFVBQVUsQ0FBQ3hDLEdBQUcsQ0FBQyxHQUFHa0IsS0FBSztNQUN2QjJCLGFBQWEsR0FBRyxJQUFJO0lBQ3RCLENBQUMsTUFBTTtNQUNMQyxvQkFBb0IsR0FBRyxJQUFJO01BQzNCRixvQkFBb0IsQ0FBQzVDLEdBQUcsQ0FBQyxHQUFHa0IsS0FBSztNQUNqQyxPQUFPc0IsVUFBVSxDQUFDeEMsR0FBRyxDQUFDO0lBQ3hCO0VBQ0Y7RUFFQSxJQUFJNkMsYUFBYSxFQUFFO0lBQ2pCLElBQU1PLEtBQUssR0FBSSxTQUFUQSxLQUFLQSxDQUFJOUIsU0FBb0IsRUFBSztNQUN0QyxJQUFRa0IsVUFBVSxHQUFpQ0osS0FBSyxDQUFoREksVUFBVTtRQUFFRyxJQUFJLEdBQTJCUCxLQUFLLENBQXBDTyxJQUFJO1FBQUVVLG9CQUFBLEdBQXlCakIsS0FBSyxDQUE5QmlCLG9CQUFBO01BQzFCLElBQUlBLG9CQUFvQixFQUFFO1FBQ3hCakIsS0FBSyxDQUFDa0Isa0JBQWtCLEdBQUcsS0FBSztRQUNoQztNQUNGO01BRUEsSUFBTUMsT0FBc0IsR0FBRyxDQUFDLENBQUM7TUFDakMsSUFBSTNCLFdBQVcsR0FBRyxJQUFJO01BQ3RCLEtBQUssSUFBTTRCLFFBQVEsSUFBSWhCLFVBQVUsRUFBRTtRQUNqQyxJQUFNVixRQUFRLEdBQUdMLGFBQWEsQ0FDNUJlLFVBQVUsQ0FBQ2dCLFFBQVEsQ0FBQyxFQUNwQmxDLFNBQVMsRUFDVGtDLFFBQVEsRUFDUkQsT0FBTyxFQUNQNUIsZ0JBQWdCLENBQ2pCO1FBQ0QsSUFBSUcsUUFBUSxFQUFFO1VBQ1phLElBQUksQ0FBQ2EsUUFBUSxDQUFDLEdBQUdELE9BQU8sQ0FBQ0MsUUFBUSxDQUFDO1VBQ2xDLE9BQU9oQixVQUFVLENBQUNnQixRQUFRLENBQUM7UUFDN0IsQ0FBQyxNQUFNO1VBQ0w1QixXQUFXLEdBQUcsS0FBSztRQUNyQjtNQUNGO01BRUEsSUFBSTJCLE9BQU8sRUFBRTtRQUNYLElBQUFFLG9CQUFXLEVBQUN2QixlQUFlLEVBQUVxQixPQUFPLEVBQUVsQixZQUFZLENBQUM7TUFDckQ7TUFFQSxJQUFJLENBQUNULFdBQVcsRUFBRTtRQUNoQjhCLHFCQUFxQixDQUFDTixLQUFLLENBQUM7TUFDOUIsQ0FBQyxNQUFNO1FBQ0xoQixLQUFLLENBQUNrQixrQkFBa0IsR0FBRyxLQUFLO01BQ2xDO0lBQ0YsQ0FBQztJQUVEbEIsS0FBSyxDQUFDSSxVQUFVLEdBQUdBLFVBQVU7SUFDN0IsSUFBSSxDQUFDSixLQUFLLENBQUNrQixrQkFBa0IsRUFBRTtNQUM3QmxCLEtBQUssQ0FBQ2lCLG9CQUFvQixHQUFHLEtBQUs7TUFDbENqQixLQUFLLENBQUNrQixrQkFBa0IsR0FBRyxJQUFJO01BQy9CRixLQUFLLENBQUM3QyxjQUFjLENBQUU7SUFDeEI7SUFFQSxJQUFJdUMsb0JBQW9CLEVBQUU7TUFDeEIsSUFBQVcsb0JBQVcsRUFBQ3ZCLGVBQWUsRUFBRVUsb0JBQW9CLEVBQUVQLFlBQVksQ0FBQztJQUNsRTtFQUNGLENBQUMsTUFBTTtJQUNMRCxLQUFLLENBQUNpQixvQkFBb0IsR0FBRyxJQUFJO0lBQ2pDakIsS0FBSyxDQUFDSSxVQUFVLEdBQUcsRUFBRTtJQUVyQixJQUFJLENBQUMsSUFBQW1CLG1CQUFZLEVBQUNqQixTQUFTLEVBQUVELFNBQVMsQ0FBQyxFQUFFO01BQ3ZDLElBQUFnQixvQkFBVyxFQUFDdkIsZUFBZSxFQUFFTyxTQUFTLEVBQUVKLFlBQVksQ0FBQztJQUN2RDtFQUNGO0VBQ0FELEtBQUssQ0FBQ08sSUFBSSxHQUFHRixTQUFTO0FBQ3hCO0FBRUEsU0FBU21CLGdCQUFnQkEsQ0FDdkIxQixlQUEwQyxFQUMxQ0MsT0FBNEMsRUFDNUNDLEtBQW9CLEVBQ3BCQyxZQUF5QyxFQUN6Q1YsZ0JBQXNDLEVBQ3RDa0MsYUFBOEMsRUFFeEM7RUFDTixTQUFTOztFQUFBLElBQUFDLGtCQUFBLEVBQUFDLFNBQUE7RUFBQyxJQUZWQyxRQUFrQyxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBN0MsU0FBQSxHQUFBNkMsU0FBQSxNQUFHLEVBQUU7RUFHdkMsSUFBTXpCLFVBQXlCLElBQUFzQixrQkFBQSxHQUFHMUIsS0FBSyxDQUFDSSxVQUFVLFlBQUFzQixrQkFBQSxHQUFJLENBQUMsQ0FBQztFQUN4RCxJQUFNckIsU0FBUyxJQUFBc0IsU0FBQSxHQUFHNUIsT0FBTyxFQUFFLFlBQUE0QixTQUFBLEdBQUksQ0FBQyxDQUFDO0VBQ2pDLElBQU1yQixTQUFTLEdBQUdOLEtBQUssQ0FBQ08sSUFBSTtFQUc1QixJQUFJRSxhQUFhLEdBQUcsS0FBSztFQUN6QixJQUFJdEMsY0FBa0M7RUFDdENWLE1BQU0sQ0FBQzJCLElBQUksQ0FBQ2dCLFVBQVUsQ0FBQyxDQUFDM0IsT0FBTyxDQUFFLFVBQUFiLEdBQUcsRUFBSztJQUN2QyxJQUFNa0IsS0FBSyxHQUFHdUIsU0FBUyxDQUFDekMsR0FBRyxDQUFDO0lBQzVCLElBQUksQ0FBQyxJQUFBK0MsaUJBQVUsRUFBQzdCLEtBQUssQ0FBQyxFQUFFO01BQ3RCLE9BQU9zQixVQUFVLENBQUN4QyxHQUFHLENBQUM7SUFDeEI7RUFDRixDQUFDLENBQUM7RUFDRkgsTUFBTSxDQUFDMkIsSUFBSSxDQUFDaUIsU0FBUyxDQUFDLENBQUM1QixPQUFPLENBQUUsVUFBQWIsR0FBRyxFQUFLO0lBQ3RDLElBQU1rQixLQUFLLEdBQUd1QixTQUFTLENBQUN6QyxHQUFHLENBQUM7SUFDNUIsSUFBSSxJQUFBK0MsaUJBQVUsRUFBQzdCLEtBQUssQ0FBQyxFQUFFO01BQ3JCWCxjQUFjLEdBQUd5QyxNQUFNLENBQUNDLGdCQUFnQixJQUFJQyxXQUFXLENBQUNDLEdBQUcsRUFBRTtNQUM3RDdDLGdCQUFnQixDQUFDQyxjQUFjLEVBQUVXLEtBQUssRUFBRXNCLFVBQVUsQ0FBQ3hDLEdBQUcsQ0FBQyxFQUFFMEMsU0FBUyxDQUFDMUMsR0FBRyxDQUFDLENBQUM7TUFDeEV3QyxVQUFVLENBQUN4QyxHQUFHLENBQUMsR0FBR2tCLEtBQUs7TUFDdkIyQixhQUFhLEdBQUcsSUFBSTtJQUN0QjtFQUNGLENBQUMsQ0FBQztFQUVGLFNBQVNPLEtBQUtBLENBQUM5QixTQUFvQixFQUFFO0lBQ25DLElBQVFrQixVQUFVLEdBQWlDSixLQUFLLENBQWhESSxVQUFVO01BQUVHLElBQUksR0FBMkJQLEtBQUssQ0FBcENPLElBQUk7TUFBRVUsb0JBQUEsR0FBeUJqQixLQUFLLENBQTlCaUIsb0JBQUE7SUFDMUIsSUFBSUEsb0JBQW9CLEVBQUU7TUFDeEJqQixLQUFLLENBQUNrQixrQkFBa0IsR0FBRyxLQUFLO01BQ2hDO0lBQ0Y7SUFFQSxJQUFNQyxPQUFzQixHQUFHLENBQUMsQ0FBQztJQUNqQyxJQUFJM0IsV0FBVyxHQUFHLElBQUk7SUFDdEIvQixNQUFNLENBQUMyQixJQUFJLENBQUNnQixVQUFVLENBQUMsQ0FBQzNCLE9BQU8sQ0FBRSxVQUFBMkMsUUFBUSxFQUFLO01BQzVDLElBQU0xQixRQUFRLEdBQUdMLGFBQWEsQ0FDNUJlLFVBQVUsQ0FBQ2dCLFFBQVEsQ0FBQyxFQUNwQmxDLFNBQVMsRUFDVGtDLFFBQVEsRUFDUkQsT0FBTyxFQUNQNUIsZ0JBQWdCLENBQ2pCO01BQ0QsSUFBSUcsUUFBUSxFQUFFO1FBQ1phLElBQUksQ0FBQ2EsUUFBUSxDQUFDLEdBQUdELE9BQU8sQ0FBQ0MsUUFBUSxDQUFDO1FBQ2xDLE9BQU9oQixVQUFVLENBQUNnQixRQUFRLENBQUM7TUFDN0IsQ0FBQyxNQUFNO1FBQ0w1QixXQUFXLEdBQUcsS0FBSztNQUNyQjtJQUNGLENBQUMsQ0FBQztJQUVGLElBQUkvQixNQUFNLENBQUMyQixJQUFJLENBQUMrQixPQUFPLENBQUMsQ0FBQ1csTUFBTSxFQUFFO01BQy9CLElBQUFDLG1DQUFzQixFQUNwQmpDLGVBQWUsRUFDZnFCLE9BQU8sRUFDUGxCLFlBQVksRUFDWndCLGFBQWEsRUFDYkcsUUFBUSxDQUNUO0lBQ0g7SUFFQSxJQUFJLENBQUNwQyxXQUFXLEVBQUU7TUFDaEI4QixxQkFBcUIsQ0FBQ04sS0FBSyxDQUFDO0lBQzlCLENBQUMsTUFBTTtNQUNMaEIsS0FBSyxDQUFDa0Isa0JBQWtCLEdBQUcsS0FBSztJQUNsQztFQUNGO0VBRUEsSUFBSVQsYUFBYSxFQUFFO0lBQ2pCVCxLQUFLLENBQUNJLFVBQVUsR0FBR0EsVUFBVTtJQUM3QixJQUFJLENBQUNKLEtBQUssQ0FBQ2tCLGtCQUFrQixFQUFFO01BQzdCbEIsS0FBSyxDQUFDaUIsb0JBQW9CLEdBQUcsS0FBSztNQUNsQ2pCLEtBQUssQ0FBQ2tCLGtCQUFrQixHQUFHLElBQUk7TUFDL0JGLEtBQUssQ0FBQzdDLGNBQWMsQ0FBRTtJQUN4QjtFQUNGLENBQUMsTUFBTTtJQUNMNkIsS0FBSyxDQUFDaUIsb0JBQW9CLEdBQUcsSUFBSTtJQUNqQ2pCLEtBQUssQ0FBQ0ksVUFBVSxHQUFHLEVBQUU7RUFDdkI7RUFHQUosS0FBSyxDQUFDTyxJQUFJLEdBQUdGLFNBQVM7RUFFdEIsSUFBSSxDQUFDLElBQUFrQixtQkFBWSxFQUFDakIsU0FBUyxFQUFFRCxTQUFTLENBQUMsRUFBRTtJQUN2QyxJQUFBMEIsbUNBQXNCLEVBQ3BCakMsZUFBZSxFQUNmTyxTQUFTLEVBQ1RKLFlBQVksRUFDWndCLGFBQWEsRUFDYkcsUUFBUSxDQUNUO0VBQ0g7QUFDRjtBQUdBLFNBQVNJLHFCQUFxQkEsQ0FDNUJ0RCxJQUF5QyxFQUN6Q3VELFVBQW1CLEVBQ2I7RUFDTixJQUFJMUQsS0FBSyxDQUFDQyxPQUFPLENBQUNFLElBQUksQ0FBQyxFQUFFO0lBRXZCLEtBQUssSUFBTXdELE9BQU8sSUFBSXhELElBQUksRUFBRTtNQUMxQnNELHFCQUFxQixDQUFDRSxPQUFPLEVBQUVELFVBQVUsQ0FBQztJQUM1QztFQUNGLENBQUMsTUFBTSxJQUNMLE9BQU92RCxJQUFJLEtBQUssUUFBUSxJQUN4QkEsSUFBSSxLQUFLLElBQUksSUFDYkEsSUFBSSxDQUFDSSxLQUFLLEtBQUtFLFNBQVMsRUFDeEI7SUFFQSxLQUFLLElBQU1wQixHQUFHLElBQUlILE1BQU0sQ0FBQzJCLElBQUksQ0FBQ1YsSUFBSSxDQUFDLEVBQUU7TUFDbkNzRCxxQkFBcUIsQ0FBQ3RELElBQUksQ0FBQ2QsR0FBRyxDQUFDLEVBQUVBLEdBQUcsQ0FBQztJQUN2QztFQUNGLENBQUMsTUFBTSxJQUNMcUUsVUFBVSxLQUFLakQsU0FBUyxJQUN4QixPQUFPTixJQUFJLEtBQUssUUFBUSxJQUN4QkEsSUFBSSxLQUFLLElBQUksSUFDYkEsSUFBSSxDQUFDSSxLQUFLLEtBQUtFLFNBQVMsRUFDeEI7SUFFQSxNQUFNLElBQUltRCxLQUFLLENBQ1osNkJBQTRCRixVQUFXLHlDQUF3QyxDQUNqRjtFQUNIO0FBQ0Y7QUFhTyxJQUFNRyxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQWdCQSxDQUUzQnJDLE9BQW1FLEVBQ25Fc0MsWUFBNkIsRUFDN0JULFFBQTRELEVBQ3ZDO0VBQUEsSUFBQVUsaUJBQUE7RUFDckIsSUFBTUMsUUFBeUIsR0FBRyxJQUFBQyxtQ0FBZSxHQUFFO0VBQ25ELElBQU1DLE9BQU8sR0FBRyxJQUFBQyxhQUFNLEdBQWdCO0VBQ3RDLElBQUlDLE1BQU0sR0FBR2xGLE1BQU0sQ0FBQ21GLE1BQU0sRUFBQU4saUJBQUEsR0FBQ3ZDLE9BQU8sQ0FBQzhDLFFBQVEsWUFBQVAsaUJBQUEsR0FBSSxDQUFDLENBQUMsQ0FBQztFQUNsRCxJQUFJLElBQUFRLCtCQUFjLEdBQUUsRUFBRTtJQUFBLElBQUFDLGFBQUE7SUFDcEIsSUFBSSxDQUFDSixNQUFNLENBQUNiLE1BQU0sS0FBQWlCLGFBQUEsR0FBSVYsWUFBWSxjQUFBVSxhQUFBLGVBQVpBLGFBQUEsQ0FBY2pCLE1BQU0sRUFBRTtNQUUxQ2EsTUFBTSxHQUFHTixZQUFZO0lBQ3ZCO0lBQ0EsSUFBSVcsT0FBTyxJQUFJLENBQUNMLE1BQU0sQ0FBQ2IsTUFBTSxJQUFJLENBQUNPLFlBQVksSUFBSSxDQUFDdEMsT0FBTyxDQUFDa0QsYUFBYSxFQUFFO01BQ3hFLE1BQU0sSUFBSWQsS0FBSyxDQUNaO0FBQ1Q7QUFDQSxvSUFBb0ksQ0FDN0g7SUFDSDtFQUNGO0VBQ0EsSUFBTWUsYUFBdUMsR0FBR3RCLFFBQVEsR0FDcERyRCxLQUFLLENBQUNDLE9BQU8sQ0FBQ29ELFFBQVEsQ0FBQyxHQUNyQkEsUUFBUSxHQUNSLENBQUNBLFFBQVEsQ0FBQyxHQUNaLEVBQUU7RUFDTixJQUFNdUIsWUFBWSxHQUFHdkIsUUFBUSxHQUFHLElBQUF3Qix3QkFBaUIsRUFBQ0YsYUFBYSxDQUFDLEdBQUcsSUFBSTtFQUN2RSxJQUFNM0QsZ0JBQWdCLEdBQUcsSUFBQThELDhCQUFjLEVBQVUsSUFBSSxDQUFDO0VBQ3RELElBQU01QixhQUE4QyxHQUFHLElBQUFpQixhQUFNLEVBQzNELENBQUMsQ0FBQyxDQUNIO0VBR0QsSUFBSSxDQUFDTCxZQUFZLEVBQUU7SUFDakJBLFlBQVksTUFBQWlCLE1BQUEsS0FBQUMsbUJBQUEsQ0FBQXBHLE9BQUEsRUFBT3dGLE1BQU0sSUFBRTVDLE9BQU8sQ0FBQ2tELGFBQWEsRUFBQztFQUNuRCxDQUFDLE1BQU07SUFDTFosWUFBWSxDQUFDbUIsSUFBSSxDQUFDekQsT0FBTyxDQUFDa0QsYUFBYSxDQUFDO0VBQzFDO0VBQ0FFLFlBQVksSUFBSWQsWUFBWSxDQUFDbUIsSUFBSSxDQUFDTCxZQUFZLENBQUM7RUFFL0MsSUFBSSxDQUFDVixPQUFPLENBQUMxRCxPQUFPLEVBQUU7SUFDcEIsSUFBTTBFLFlBQTJCLEdBQUcsSUFBQUMsNEJBQWlCLEVBQUMzRCxPQUFPLENBQUM7SUFDOUQsSUFBQTRELDZCQUFzQixFQUFDRixZQUFZLENBQUM7SUFDcENoQixPQUFPLENBQUMxRCxPQUFPLEdBQUc7TUFDaEI2RSxPQUFPLEVBQUU7UUFDUDlFLEtBQUssRUFBRTJFLFlBQVk7UUFDbkIxRCxPQUFPLEVBQUVBO01BQ1gsQ0FBQztNQUNEOEQsV0FBVyxFQUFFLElBQUFDLGdCQUFVLEVBQWdCO1FBQ3JDdkQsSUFBSSxFQUFFa0QsWUFBWTtRQUNsQnJELFVBQVUsRUFBRSxDQUFDLENBQUM7UUFDZGEsb0JBQW9CLEVBQUUsS0FBSztRQUMzQkMsa0JBQWtCLEVBQUU7TUFDdEIsQ0FBQyxDQUFDO01BQ0ZwQixlQUFlLEVBQUUsSUFBQWlFLDBDQUFzQjtJQUN6QyxDQUFDO0VBQ0g7RUFHQSxJQUFBQyxnQkFBQSxHQUFrRHZCLE9BQU8sQ0FBQzFELE9BQVE7SUFBMUQ2RSxPQUFPLEdBQUFJLGdCQUFBLENBQVBKLE9BQU87SUFBRUMsV0FBVyxHQUFBRyxnQkFBQSxDQUFYSCxXQUFXO0lBQUUvRCxlQUFBLEdBQUFrRSxnQkFBQSxDQUFBbEUsZUFBQTtFQUM5QixJQUFNbUUsdUJBQXVCLEdBQUduRSxlQUFlLENBQUNtRSx1QkFBdUI7RUFDdkUsSUFBTWhFLFlBQVksR0FBR2lFLHlCQUFzQixDQUFDQyxNQUFNLEdBQUduRixTQUFTLEdBQUd1RCxRQUFRO0VBRXpFRixZQUFZLENBQUNtQixJQUFJLENBQUNTLHVCQUF1QixDQUFDO0VBRTFDLElBQUFHLGdCQUFTLEVBQUMsWUFBTTtJQUNkLElBQUlDLEdBQUc7SUFDUCxJQUFJQyxTQUFTLEdBQUd2RSxPQUEwQztJQUMxRCxJQUFJNkIsUUFBUSxFQUFFO01BQ1owQyxTQUFTLEdBQUcsU0FBQUEsVUFBQSxFQUFNO1FBQ2hCLFNBQVM7O1FBQ1QsSUFBTWpFLFNBQVMsR0FBR04sT0FBTyxFQUFFO1FBQzNCbUQsYUFBYSxDQUFDekUsT0FBTyxDQUFFLFVBQUE4RixPQUFPLEVBQUs7VUFDakNBLE9BQU8sQ0FBQ2xFLFNBQVMsQ0FBQztRQUNwQixDQUFDLENBQUM7UUFDRixPQUFPQSxTQUFTO01BQ2xCLENBQUM7SUFDSDtJQUVBLElBQUksSUFBQW1FLHVCQUFNLEdBQUUsRUFBRTtNQUNaSCxHQUFHLEdBQUcsU0FBQUEsSUFBQSxFQUFNO1FBQ1YsU0FBUzs7UUFDVDdDLGdCQUFnQixDQUNkeUMsdUJBQXVCLEVBQ3ZCbEUsT0FBTyxFQUNQOEQsV0FBVyxFQUNYNUQsWUFBWSxFQUNaVixnQkFBZ0IsRUFDaEJrQyxhQUFhLEVBQ2J5QixhQUFhLENBQ2Q7TUFDSCxDQUFDO0lBQ0gsQ0FBQyxNQUFNO01BQ0xtQixHQUFHLEdBQUcsU0FBQUEsSUFBQSxFQUFNO1FBQ1YsU0FBUzs7UUFDVHhFLFlBQVksQ0FDVm9FLHVCQUF1QixFQUN2QkssU0FBUyxFQUNUVCxXQUFXLEVBQ1g1RCxZQUFZLEVBQ1pWLGdCQUFnQixDQUNqQjtNQUNILENBQUM7SUFDSDtJQUNBLElBQU1rRixRQUFRLEdBQUcsSUFBQUMsaUJBQVcsRUFBQ0wsR0FBRyxFQUFFMUIsTUFBTSxDQUFDO0lBQ3pDLE9BQU8sWUFBTTtNQUNYLElBQUFnQyxnQkFBVSxFQUFDRixRQUFRLENBQUM7SUFDdEIsQ0FBQztFQUNILENBQUMsRUFBRXBDLFlBQVksQ0FBQztFQUVoQixJQUFBK0IsZ0JBQVMsRUFBQyxZQUFNO0lBQ2Q3RSxnQkFBZ0IsQ0FBQ1QsS0FBSyxHQUFHLElBQUk7SUFDN0IsT0FBTyxZQUFNO01BQ1hTLGdCQUFnQixDQUFDVCxLQUFLLEdBQUcsS0FBSztJQUNoQyxDQUFDO0VBQ0gsQ0FBQyxFQUFFLEVBQUUsQ0FBQztFQUVOa0QscUJBQXFCLENBQUM0QixPQUFPLENBQUM5RSxLQUFLLENBQUM7RUFFcEMsSUFBSSxJQUFBMEYsdUJBQU0sR0FBRSxFQUFFO0lBQ1osT0FBTztNQUFFMUUsZUFBZSxFQUFmQSxlQUFlO01BQUU4RCxPQUFPLEVBQVBBLE9BQU87TUFBRXJCLFFBQVEsRUFBUkEsUUFBUTtNQUFFZCxhQUFBLEVBQUFBO0lBQWMsQ0FBQztFQUM5RCxDQUFDLE1BQU07SUFDTCxPQUFPO01BQUUzQixlQUFlLEVBQWZBLGVBQWU7TUFBRThELE9BQU8sRUFBUEEsT0FBTztNQUFFckIsUUFBQSxFQUFBQTtJQUFTLENBQUM7RUFDL0M7QUFFRixDQUF5QjtBQUFBcUMsT0FBQSxDQUFBeEMsZ0JBQUEsR0FBQUEsZ0JBQUEifQ==